{
    "entityType": "Application",
    "name": "EAIV8",
    "enforceCompleteSnapshots": false,
    "propSheet": {"properties": []},
    "components": [
        {
            "entityType": "Component",
            "name": "EAIV8",
            "created": 1395933059258,
            "importAutomatically": false,
            "useVfs": true,
            "active": true,
            "deleted": false,
            "defaultVersionType": "FULL",
            "cleanupDaysToKeep": 0,
            "cleanupCountToKeep": 0,
            "envPropDefs": [
                {
                    "name": "Cst_DIM_SSHHost",
                    "label": "Cst_DIM_SSHHost",
                    "type": "TEXT",
                    "value": "lr2te614.groupe.generali.fr",
                    "required": true,
                    "description": "lr2te700v = qualif || lr2te614 = prod"
                },
                {
                    "name": "Cst_DIM_SSHUser",
                    "label": "Cst_DIM_SSHUser",
                    "type": "TEXT",
                    "value": "deploy",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "Cst_DIM_SSHPrivateKey",
                    "label": "Cst_DIM_SSHPrivateKey",
                    "type": "TEXT",
                    "value": "~\/.ssh\/id_rsa",
                    "required": false,
                    "description": ""
                },
                {
                    "name": "Cst_DIM_SSHPassword",
                    "label": "Cst_DIM_SSHPassword",
                    "type": "TEXT",
                    "value": "deploy",
                    "required": false,
                    "description": ""
                },
                {
                    "name": "Cst_DIM_SSHPassPhrase",
                    "label": "Cst_DIM_SSHPassPhrase",
                    "type": "TEXT",
                    "required": false,
                    "description": ""
                },
                {
                    "name": "Cst_DIM_SSHTrust",
                    "label": "Cst_DIM_SSHTrust",
                    "type": "CHECKBOX",
                    "value": "true",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "Cst_DIM_SASDepot",
                    "label": "Cst_DIM_SASDepot",
                    "type": "TEXT",
                    "value": "\/products\/serena\/sas",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "Cst_EAI_ParameterFile",
                    "label": "Cst_EAI_ParameterFile",
                    "type": "TEXT",
                    "value": "Parameters.xml",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "Cst_EAI_PathFilePollingListener",
                    "label": "Cst_EAI_PathFilePollingListener",
                    "type": "TEXT",
                    "value": "\/APP\/DATA\/DEV\/",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "Cst_EAI_ListAvailableDeploySetRegexp",
                    "label": "Cst_EAI_ListAvailableDeploySetRegexp",
                    "type": "TEXT",
                    "value": "DS_IS_AER|DS_IS_F09|DS_PM_F02|DS_IS_F02|DS_PM_F01|DS_IS_F01",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "Cst_EAI_Deployer_Domaine",
                    "label": "Cst_EAI_Deployer_Domaine",
                    "type": "TEXT",
                    "value": "groupe.generali.fr",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "Cst_EAI_Deployer_Realm",
                    "label": "Cst_EAI_Deployer_Realm",
                    "type": "TEXT",
                    "value": "webMethods",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "Cst_EAI_Deployer_Authentifcation",
                    "label": "Cst_EAI_Deployer_Authentifcation",
                    "type": "TEXT",
                    "value": "BASIC",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "Cst_EAI_Map",
                    "label": "Cst_EAI_Map",
                    "type": "TEXT",
                    "value": "myDeploymentMap",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "Cst_EAI_DC",
                    "label": "Cst_EAI_DC",
                    "type": "TEXT",
                    "value": "myDeployment",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "Cst_EAI_TempBaseDir",
                    "label": "Cst_EAI_TempBaseDir",
                    "type": "TEXT",
                    "value": "\/tmp\/serena",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "Cst_EAI_BuildExtensionName",
                    "label": "Cst_EAI_BuildExtensionName",
                    "type": "TEXT",
                    "value": "_ExportedBuild_myBuild",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "Cst_DIM_SSHPort",
                    "label": "Cst_DIM_SSHPort",
                    "type": "TEXT",
                    "value": "22",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "Cst_EAIV8_ConfigFile",
                    "label": "Cst_EAIV8_ConfigFile",
                    "type": "TEXT",
                    "value": "config_deploy.conf",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "Cst_EAIV8_Root_Directory",
                    "label": "Cst_EAIV8_Root_Directory",
                    "type": "TEXT",
                    "value": "\/app\/webmethods\/v8\/is",
                    "required": true,
                    "description": ""
                }
            ],
            "versionPropDefs": [],
            "propSheetGroup": {"propSheets": [
                {
                    "name": "code_station",
                    "properties": [{
                        "name": "repository",
                        "value": "ce900751-db36-4291-83b9-54db8647db87",
                        "description": "",
                        "secure": false
                    }]
                },
                {
                    "name": "custom",
                    "properties": [
                        {
                            "name": "GroovyLib-Logger",
                            "value": "import java.io.*;\n\n\n\/\/ Function logger\ndef logger (def String level,def String message,def String outputFileStr) {\n\tdef timpeStamp=new Date().format(\"yyyyMMdd-kkmmss\")\n\tprintln \"$timpeStamp:[$level] $message\\n\"\n\tif (outputFileStr!=null && outputFileStr !=\"\"){\n\t\tdef File outputFile = new File(outputFileStr)\n\t\toutputFile<< \"$timpeStamp:[$level] $message\\n\"\n\t}\n}\n",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "GroovyLib-wsSOAP",
                            "value": "import java.io.*;\nimport java.net.URL;\nimport java.util.Map;\nimport java.util.logging.*;\nimport org.apache.http.*;\nimport org.apache.http.auth.*;\nimport org.apache.http.client.*;\nimport org.apache.http.client.methods.*;\nimport org.apache.http.client.protocol.*;\nimport org.apache.http.entity.*;\nimport org.apache.http.impl.client.*;\nimport org.apache.http.impl.conn.*;\nimport org.apache.http.util.*;\nimport javax.xml.soap.*;\nimport wslite.soap.*;\nimport wslite.http.auth.*;\n\n\n\/\/ function wssoap\ndef void sendSoapRequestWithWSLITE(Map input)  {\n\tdef String endPoint=input[\"endPoint\"]\n\tdef String requestFilename=input[\"requestFilename\"]\n\tdef String requestString=input[\"requestString\"]\n\tdef String responseFilename=input[\"responseFilename\"]\n\tdef String authUser=input[\"userName\"]\n\tdef String authPassword=input[\"password\"]\n\tdef int connectTimeout=input[\"connectionTimeout\"].toString().toInteger()\n\tdef int readTimeout=input[\"readTimeout\"].toString().toInteger()\n\tdef client = new SOAPClient(endPoint)\n\tif (authUser != \"\" ){ client.authorization = new HTTPBasicAuthorization(authUser, authPassword)}\n\tclient.httpClient.setConnectTimeout(connectTimeout)\n\tclient.httpClient.setReadTimeout(readTimeout)\n\n\ttry {\n\t\t   def String wssoap\n\t\t   if(requestFilename != \"\"){\n\t\t\twssoap=new File(requestFilename).text\n\t\t   }\n\t\t   else{\n\t\t   wssoap=requestString\n\t\t   }\n\t\t   println \"[D] sendSoapRequestWithWSLITE endPoint=$endPoint\"\n\t\t   println \"[D] sendSoapRequestWithWSLITE requestFilename=$requestFilename\"\n\t\t   println \"[D] sendSoapRequestWithWSLITE requestString=$requestString\"\n\t\t   println \"[D] sendSoapRequestWithWSLITE responseFilename=$responseFilename\"\n\t\t   println \"[D] sendSoapRequestWithWSLITE authUser=$authUser\"\n\t\t   println \"[D] sendSoapRequestWithWSLITE connectTimeout=$connectTimeout\"\n\t\t   println \"[D] sendSoapRequestWithWSLITE readTimeout=$readTimeout\"\n\t\t   println \"[D] sendSoapRequestWithWSLITE wssoap=$wssoap\"\n\t\t   \n\t\t   def response=client.send(wssoap)\n\t\t   \n\t\t   println \"[D] sendSoapRequestWithWSLITE response.text=\"+response.text\n\t\t   \n\t\t   File file = new File(responseFilename)\n\t\t   file << response.text\n\n\t} \n\tcatch (SOAPFaultException sfe) {\n\tprintln sfe.message \/\/ faultcode\/faultstring for 1.1 or Code\/Reason for 1.2\n\tprintln sfe.text    \/\/ prints SOAP Envelope\n\tprintln sfe.httpResponse.statusCode\n\tprintln sfe.fault.detail.text() \/\/ sfe.fault is a GPathResult of Envelope\/Body\/Fault\n\tthrow new Exception(sfe)\n\t} catch (SOAPClientException sce) {\n\t\/\/ This indicates an error with underlying HTTP Client (i.e., 404 Not Found)\n\tprintln \"[E] sendSoapRequestWithWSLITE HTTP Client Error: \"+sce.getMessage()\n\tthrow new Exception(sce)\n\t}\n\tcatch (Exception e) {\n\t\/\/ This indicates an error with underlying HTTP Client (i.e., 404 Not Found)\n\tprintln \"[E] sendSoapRequestWithWSLITE Error: \"+e.getMessage()\n\tthrow new Exception(e)\n\t}\n\t\n}",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "GroovyLib-xPath",
                            "value": "import java.io.*;\nimport java.net.URL;\nimport java.util.Map;\nimport java.util.logging.*;\nimport javax.xml.namespace.QName;\nimport javax.xml.xpath.*;\nimport org.w3c.dom.NodeList;\nimport org.xml.sax.InputSource;\n\n\n\/\/Function xpath_execute\n\/\/ return a Map map containing:\n\/\/ (String) \tmap[\"firstElement\", result.item(0).getTextContent())\n\/\/ (String)\t\tmap[\"lastElement\",result.item(0).getTextContent())\n\/\/ (String[])\tmap[\"allElements\", null)\n\/\/ (String)\t\tmap[\"errorMessage\",\"\")\n\/\/ (int)\t\tmap[\"count\",\"\")\n\ndef Map xpath_execute(def String xPathQuery,def String xmlFilePath){\n\tMap map=[:]\n\tmap.put(\"count\", 0)\n\tmap.put(\"firstElement\",\"\")\n\tmap.put(\"firstElement\",\"\")\n\tmap.put(\"allElements\", null)\n\tmap.put(\"errorMessage\",null)\n\t\n\tdef NodeList result;\n\ttry{\n\t\t\/\/ create xml source\n\t\tInputSource source = new InputSource(new FileInputStream(xmlFilePath));\n\t   \n\t\t\/\/ create xpath engine\n\t\tXPathFactory fabrique = XPathFactory.newInstance();\n\t\tXPath xpath = fabrique.newXPath();\n\t\t\n\t\t\/\/ xpath query eval\n\t\tXPathExpression exp = xpath.compile(xPathQuery);\n\t\tresult = (NodeList)exp.evaluate(source, XPathConstants.NODESET);\n\t\t\n\t\tif (result.getLength() >= 1) {\n\t\t\tmap.put(\"count\", result.getLength())\n\t\t\tmap.put(\"firstElement\", result.item(0).getTextContent())\n\t\t\tmap.put(\"lastElement\", result.item(result.getLength()-1).getTextContent())\n\t\t\tdef tabElement=[]\n\t\t\tfor (int i = 0; i < result.getLength(); i++) {\n\t\t\t\ttabElement[i]=result.item(i).getTextContent();\n\t\t\t}\n\t\t\tmap.put(\"allElements\", tabElement)\n\t\t\tmap.put(\"errorMessage\",\"\")\n\t\t\t\n\t\t}\n\t\telse {\n\t\t\tmap.put(\"count\", 0)\n\t\t\tmap.put(\"firstElement\", result.item(0).getTextContent())\n\t\t\tmap.put(\"lastElement\",result.item(0).getTextContent())\n\t\t\tmap.put(\"allElements\", null)\n\t\t\tmap.put(\"errorMessage\",\"\")\n\t\t}\n\t\t\n\t\tmap.put(\"length\", null)\n\t}\n\tcatch (FileNotFoundException fe){\n\t\tmap.put(\"errorMessage\", \"[E] FileNotFoundException: \"+fe.getMessage())\n\t}\n\tcatch (XPathExpressionException xe){\n\t\tmap.put(\"errorMessage\", \"[E] XPathExpressionException: \"+xe.getMessage())\n\t}\n\t\n\tcatch(Exception e){\n\t\tmap.put(\"errorMessage\", \"[E] Exception: \"+e.getMessage())\n\t}\n\treturn map\n}",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Model_WSBINDADDRESS",
                            "value": "<?xml version='1.0' encoding='UTF-8'?>\n<soapenv:Envelope xmlns:soapenv='http:\/\/schemas.xmlsoap.org\/soap\/envelope\/' xmlns:ws='http:\/\/ar1tn232.groupe.generali.fr\/GniToolsDeployer\/targetAlias\/ws_getBindAddressFromAlias'>\n   <soapenv:Header\/>\n   <soapenv:Body>\n      <ws:getBindAddressFromAlias>\n         <targetAlias>A_REMPLACER<\/targetAlias>\n      <\/ws:getBindAddressFromAlias>\n   <\/soapenv:Body>\n<\/soapenv:Envelope>",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Model_WSSOAP",
                            "value": "<?xml version='1.0'   encoding='UTF-8'?>\n<soapenv:Envelope xmlns:soapenv='http:\/\/schemas.xmlsoap.org\/soap\/envelope\/' xmlns:ws='http:\/\/ar1tn232.groupe.generali.fr\/GniToolsDeployer\/map\/ws_createMapForProject'>\n   <soapenv:Header\/>\n   <soapenv:Body>\n      <ws:createMapForProject>\n         <projectName>AppliName_x.y.z<\/projectName>\n      <\/ws:createMapForProject>\n   <\/soapenv:Body>\n<\/soapenv:Envelope>",
                            "description": "",
                            "secure": false
                        }
                    ]
                },
                {
                    "name": "template",
                    "properties": []
                }
            ]},
            "processes": [
                {
                    "name": "DEPLOY",
                    "description": "",
                    "defaultWorkingDir": "${p:resource\/work.dir}\/${p:component.name}",
                    "takesVersion": false,
                    "status": "",
                    "active": true,
                    "propDefs": [
                        {
                            "name": "SBM_Nom_Log",
                            "label": "SBM_Nom_Log",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_BaselineId",
                            "label": "SBM_BaselineId",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_EAI_IS",
                            "label": "SBM_EAI_IS",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Login",
                            "label": "SBM_Login",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Password",
                            "label": "SBM_Password",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        }
                    ],
                    "rootActivity": {
                        "edges": [
                            {
                                "to": "CreateCheckPoint",
                                "from": "ChmodWorkDir",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "f1834cadec00f066392d09e384b212",
                                "from": "InitStep",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "ChmodWorkDir",
                                "from": "SetVarBuild",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "bbf6dce07fa1950f4e8e09ec865f69",
                                "from": "DeploymentWebM",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "DeploymentWebM",
                                "from": "CreateCheckPoint",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "InitStep",
                                "type": "ALWAYS",
                                "value": ""
                            },
                            {
                                "to": "SetVarBuild",
                                "from": "f1834cadec00f066392d09e384b212",
                                "type": "SUCCESS",
                                "value": ""
                            }
                        ],
                        "offsets": [
                            {
                                "name": "CreateCheckPoint",
                                "x": -45,
                                "y": 346
                            },
                            {
                                "name": "SetVarBuild",
                                "x": -90,
                                "y": 170
                            },
                            {
                                "name": "ChmodWorkDir",
                                "x": -40,
                                "y": 260
                            },
                            {
                                "name": "f1834cadec00f066392d09e384b212",
                                "x": -343.5,
                                "y": 140
                            },
                            {
                                "name": "DeploymentWebM",
                                "x": -50,
                                "y": 424
                            },
                            {
                                "name": "bbf6dce07fa1950f4e8e09ec865f69",
                                "x": 0,
                                "y": 510
                            },
                            {
                                "name": "InitStep",
                                "x": -65,
                                "y": 80
                            }
                        ],
                        "sizes": [
                            {
                                "name": "bbf6dce07fa1950f4e8e09ec865f69",
                                "width": 80,
                                "height": 50
                            },
                            {
                                "name": "SetVarBuild",
                                "width": 260,
                                "height": 60
                            },
                            {
                                "name": "ChmodWorkDir",
                                "width": 150,
                                "height": 60
                            },
                            {
                                "name": "CreateCheckPoint",
                                "width": 170,
                                "height": 60
                            },
                            {
                                "name": "f1834cadec00f066392d09e384b212",
                                "width": 150,
                                "height": 40
                            },
                            {
                                "name": "DeploymentWebM",
                                "width": 170,
                                "height": 60
                            },
                            {
                                "name": "InitStep",
                                "width": 210,
                                "height": 60
                            }
                        ],
                        "type": "graph",
                        "name": "3813f355-ab61-4e22-9628-2a78b67e03d8",
                        "children": [
                            {
                                "type": "finish",
                                "name": "bbf6dce07fa1950f4e8e09ec865f69",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": false,
                                "showHidden": false,
                                "impersonationUseSudo": false,
                                "impersonationUseSsh": false,
                                "commandName": "Run Groovy Script",
                                "pluginName": "GroovyAdvance",
                                "pluginVersion": 2,
                                "properties": {"scriptBody": "\/\/import Groovy CommunLib\n${p:component\/GroovyLib-Logger}\n${p:component\/GroovyLib-xPath}\n${p:component\/GroovyLib-wsSOAP}\n\nlogger(\"INFO\",\"Initialisation des variables\",null)\n\noutProps.setProperty(\"Var_EAI_Tmp_Directory\",\"${p:environment\/Cst_EAI_TempBaseDir}\/${p:SBM_BaselineId}\")\noutProps.setProperty(\"Var_EAI_TempBaseDir\",\"${p:environment\/Cst_EAI_TempBaseDir}\")\noutProps.setProperty(\"Var_EAI_BuildExtensionName\",\"${p:environment\/Cst_EAI_BuildExtensionName}\")\noutProps.setProperty(\"Var_c_logFileName\",\"${p:environment\/Cst_EAI_TempBaseDir}\/${p:SBM_Nom_Log}\")\noutProps.setProperty(\"Var_EAIV8_ConfigFile\",\"${p:environment\/Cst_EAIV8_ConfigFile}\")\noutProps.setProperty(\"Var_EAI_DC\",\"${p:environment\/Cst_EAI_DC}\")\noutProps.setProperty(\"Var_EAI_IS\",\"${p:SBM_EAI_IS}\")\noutProps.setProperty(\"Var_EAIV8_Deployer_Directory\",\"${p:environment\/Cst_EAIV8_Root_Directory}\/${p:SBM_EAI_IS}\/bin\/IntegrationServer\/packages\/WmDeployer\/bin\")"},
                                "type": "plugin",
                                "name": "InitStep",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": false,
                                "showHidden": false,
                                "impersonationUseSudo": false,
                                "impersonationUseSsh": false,
                                "commandName": "Run Groovy Advance Script",
                                "pluginName": "GroovyAdvance",
                                "pluginVersion": 2,
                                "properties": {
                                    "externalLibJARList": "",
                                    "externalDirList": "",
                                    "scriptBody": "\/\/import Groovy CommunLib\n${p:component\/GroovyLib-Logger}\n${p:component\/GroovyLib-xPath}\n${p:component\/GroovyLib-wsSOAP}\n\ndef VarG_EAI_Tmp_Directory=\"${p:InitStep\/Var_EAI_Tmp_Directory}\"\n\n\/\/ Recuperation du nom projet\ndef File VarG_EAI_Tmp_DirectoryFile=new File(\"${p:InitStep\/Var_EAI_Tmp_Directory}\")\ndef VarG_c_logFileName=\"${p:InitStep\/Var_c_logFileName}\"\ndef Var_EAI_BuildExtensionName=\"${p:InitStep\/Var_EAI_BuildExtensionName}\"\n\ndef VarG_EAI_Build=\"\"\ndef VarG_EAI_Project=\"\"\n\nVarG_EAI_Tmp_DirectoryFile.eachFile {\n if(it =~ \"^*${Var_EAI_BuildExtensionName}\\$\"){ \n\t VarG_EAI_Build=it.getName()\n\t def tab=VarG_EAI_Build.split(\"_\")\n\t VarG_EAI_Project=tab[0]+\"_\"+tab[1]\n\t \n } else {println \"[D] file:$it\"}\n \n}\nprintln \"[D] VarG_EAI_Project:$VarG_EAI_Project\"\nif(VarG_EAI_Project==\"\"){\n\tlogger(\"ERROR\",\"Impossible de recuperer le nom du projet a partir du fichier dans  \\\"${VarG_EAI_Tmp_Directory}\\\"\",\"${VarG_c_logFileName}\")\n\tSystem.exit(1)\n}\n\nlogger(\"INFO\",\"nom du projet Deployer =${VarG_EAI_Project}\",\"$VarG_c_logFileName\")\nlogger(\"DEBUG\",\"enregistrement des variables dans outProps\",null)\noutProps.setProperty(\"Var_EAI_Project\",\"$VarG_EAI_Project\")\n"
                                },
                                "type": "plugin",
                                "name": "SetVarBuild",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": false,
                                "showHidden": false,
                                "impersonationUseSudo": false,
                                "impersonationUseSsh": false,
                                "commandName": "Shell",
                                "pluginName": "Shell",
                                "pluginVersion": 4,
                                "properties": {
                                    "directoryOffset": ".",
                                    "shellInterpreter": "",
                                    "scriptBody": "VarG_c_logFileName=\"${p:InitStep\/Var_c_logFileName}\"\nVarG_EAI_Tmp_Directory=\"${p:InitStep\/Var_EAI_Tmp_Directory}\"\n\necho \"`date +%Y%m%d-%H%M%S`: [DEBUG] cmd:chmod -R 777 ${VarG_EAI_Tmp_Directory}\" 2>&1 | tee -a ${VarG_c_logFileName} \nchmod -R 777 ${VarG_EAI_Tmp_Directory} 2>\/dev\/null\nif [ $? -ne 0 ] ; then\necho \"`date +%Y%m%d-%H%M%S`: [WARN] Certains droits n'ont pas été modifié dans ${VarG_EAI_Tmp_Directory}\"  2>&1 | tee -a ${VarG_c_logFileName} \nexit 0\nfi",
                                    "runAsDaemon": "false",
                                    "outputFile": ""
                                },
                                "type": "plugin",
                                "name": "ChmodWorkDir",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": true,
                                "impersonationUsername": "${p:SBM_Login}",
                                "impersonationGroup": "",
                                "showHidden": false,
                                "impersonationPassword": "${p:SBM_Password}",
                                "impersonationUseSudo": true,
                                "impersonationUseSsh": false,
                                "commandName": "Shell",
                                "pluginName": "Shell",
                                "pluginVersion": 4,
                                "properties": {
                                    "directoryOffset": ".",
                                    "shellInterpreter": "",
                                    "scriptBody": "VarG_EAI_Project=\"${p:SetVarBuild\/Var_EAI_Project}\"\nCst_EAI_DC=\"${p:InitStep\/Var_EAI_DC}\"\nCst_EAIV8_ConfigFile=\"${p:InitStep\/Var_EAIV8_ConfigFile}\"\nCst_EAIV8_Deployer_Directory=\"${p:InitStep\/Var_EAIV8_Deployer_Directory}\"\nVarG_c_logFileName=\"${p:InitStep\/Var_c_logFileName}\"\n\necho \"cmd:.\/Deployer.sh --checkpoint -project ${VarG_EAI_Project}   -dc  ${Cst_EAI_DC}      -configfile ${Cst_EAIV8_ConfigFile}\" 2>&1 | tee -a ${VarG_c_logFileName} \ncd ${Cst_EAIV8_Deployer_Directory} \nVar_Cmd_Out=$(.\/Deployer.sh --checkpoint -project ${VarG_EAI_Project}   -dc  ${Cst_EAI_DC}      -configfile ${Cst_EAIV8_ConfigFile} 2>&1)\nstatus=$?\n\necho \"$Var_Cmd_Out\" | tee -a ${VarG_c_logFileName}\necho \"`date +%Y%m%d-%H%M%S`: [ERROR] .\/Deployer.sh de checkpoint(...) code retour commande = <$status>\"  2>&1 | tee -a ${VarG_c_logFileName} \nif [ $status -ne 0 -a $status -ne 4 ]; then\n\techo \"`date +%Y%m%d-%H%M%S`: [ERROR] Erreur dans .\/Deployer.sh de checkpoint   (...) \"  2>&1 | tee -a ${VarG_c_logFileName} \n\texit 1\nelse\n\tif [ $status -eq 4 ] ; then\n\t\techo \"`date +%Y%m%d-%H%M%S`: [WARN] checkpoint reussi avec des Warning\"  2>&1 | tee -a ${VarG_c_logFileName}\n\telse\n\t\techo \"`date +%Y%m%d-%H%M%S`: [INFO] checkpoint reussi \"  2>&1 | tee -a ${VarG_c_logFileName}\n\tfi\nfi\n",
                                    "runAsDaemon": "false",
                                    "outputFile": ""
                                },
                                "type": "plugin",
                                "name": "CreateCheckPoint",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": true,
                                "impersonationUsername": "${p:SBM_Login}",
                                "impersonationGroup": "",
                                "showHidden": false,
                                "impersonationPassword": "${p:SBM_Password}",
                                "impersonationUseSudo": true,
                                "impersonationUseSsh": false,
                                "commandName": "Shell",
                                "pluginName": "Shell",
                                "pluginVersion": 4,
                                "properties": {
                                    "directoryOffset": ".",
                                    "shellInterpreter": "",
                                    "scriptBody": "VarG_EAI_Project=\"${p:SetVarBuild\/Var_EAI_Project}\"\nCst_EAIV8_ConfigFile=\"${p:InitStep\/Var_EAIV8_ConfigFile}\"\nVarG_c_logFileName=\"${p:InitStep\/Var_c_logFileName}\"\nCst_EAIV8_Deployer_Directory=\"${p:InitStep\/Var_EAIV8_Deployer_Directory}\"\nCst_EAI_DC=\"${p:InitStep\/Var_EAI_DC}\"\n\n\t\n\necho \"`date +%Y%m%d-%H%M%S`: [INFO] Debut du deploiement webMethods\" 2>&1 | tee -a ${VarG_c_logFileName} \ncd ${Cst_EAIV8_Deployer_Directory}\necho \"cmd:.\/Deployer.sh -configfile ${Cst_EAIV8_ConfigFile}   --deploy -project ${VarG_EAI_Project}   -dc  ${Cst_EAI_DC}\" 2>&1 | tee -a ${VarG_c_logFileName} \n\nVar_Cmd_Out=$(.\/Deployer.sh -configfile ${Cst_EAIV8_ConfigFile}   --deploy -project ${VarG_EAI_Project}   -dc  ${Cst_EAI_DC} 2>&1)\nstatus=$?\necho \"$Var_Cmd_Out\" | tee -a ${VarG_c_logFileName}\necho \"`date +%Y%m%d-%H%M%S`: [INFO] .\/Deployer.sh (...) code retour commande = <$status>\"  2>&1 | tee -a ${VarG_c_logFileName} \nif [ $status -ne 0 -a $status -ne 4 ]; then\n\techo \"`date +%Y%m%d-%H%M%S`: [ERROR] Erreur dans .\/Deployer.sh -configfile $Cst_EAIV8_ConfigFile   --deploy -project ${VarG_EAI_Project}   (...) \"  2>&1 | tee -a ${VarG_c_logFileName} \n\texit 1\nelse\n\tif [ $status -eq 4 ] ; then\n\t\techo \"`date +%Y%m%d-%H%M%S`: [WARN] Deploiement reussi avec des Warning\"  2>&1 | tee -a ${VarG_c_logFileName}\n\telse\n\t\techo \"`date +%Y%m%d-%H%M%S`: [INFO] Deploiement reussi \"  2>&1 | tee -a ${VarG_c_logFileName}\n\tfi\nfi",
                                    "runAsDaemon": "false",
                                    "outputFile": ""
                                },
                                "type": "plugin",
                                "name": "DeploymentWebM",
                                "children": []
                            },
                            {
                                "sleepTime": "1",
                                "type": "processSleep",
                                "name": "f1834cadec00f066392d09e384b212",
                                "children": []
                            }
                        ]
                    }
                },
                {
                    "name": "DEPLOY_BACKUP",
                    "description": "",
                    "defaultWorkingDir": "${p:resource\/work.dir}\/${p:component.name}",
                    "takesVersion": false,
                    "status": "",
                    "active": true,
                    "propDefs": [
                        {
                            "name": "SBM_Nom_Log",
                            "label": "SBM_Nom_Log",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_BaselineId",
                            "label": "SBM_BaselineId",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_EAI_IS",
                            "label": "SBM_EAI_IS",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Login",
                            "label": "SBM_Login",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Password",
                            "label": "SBM_Password",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        }
                    ],
                    "rootActivity": {
                        "edges": [
                            {
                                "to": "RollBackWebM",
                                "from": "SetVarBuild",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "cdd509f2e06a4b59c1d33432f0bb0c",
                                "from": "InitStep",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "SetVarBuild",
                                "from": "cdd509f2e06a4b59c1d33432f0bb0c",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "bbf6dce07fa1950f4e8e09ec865f69",
                                "from": "RollBackWebM",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "InitStep",
                                "type": "ALWAYS",
                                "value": ""
                            }
                        ],
                        "offsets": [
                            {
                                "name": "InitStep",
                                "x": -65,
                                "y": 80
                            },
                            {
                                "name": "bbf6dce07fa1950f4e8e09ec865f69",
                                "x": 0,
                                "y": 510
                            },
                            {
                                "name": "SetVarBuild",
                                "x": -90,
                                "y": 280
                            },
                            {
                                "name": "RollBackWebM",
                                "x": -40,
                                "y": 390
                            },
                            {
                                "name": "cdd509f2e06a4b59c1d33432f0bb0c",
                                "x": -248.5,
                                "y": 180
                            }
                        ],
                        "sizes": [],
                        "type": "graph",
                        "name": "817f43f2-91d2-4196-bc14-117ec850dbfb",
                        "children": [
                            {
                                "type": "finish",
                                "name": "bbf6dce07fa1950f4e8e09ec865f69",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": false,
                                "showHidden": false,
                                "impersonationUseSudo": false,
                                "impersonationUseSsh": false,
                                "commandName": "Run Groovy Script",
                                "pluginName": "GroovyAdvance",
                                "pluginVersion": 2,
                                "properties": {"scriptBody": "\/\/import Groovy CommunLib\n${p:component\/GroovyLib-Logger}\n${p:component\/GroovyLib-xPath}\n${p:component\/GroovyLib-wsSOAP}\n\nlogger(\"INFO\",\"Initialisation des variables\",null)\n\noutProps.setProperty(\"Var_EAI_Tmp_Directory\",\"${p:environment\/Cst_EAI_TempBaseDir}\/${p:SBM_BaselineId}\")\noutProps.setProperty(\"Var_EAI_BuildExtensionName\",\"${p:environment\/Cst_EAI_BuildExtensionName}\")\noutProps.setProperty(\"Var_c_logFileName\",\"${p:environment\/Cst_EAI_TempBaseDir}\/${p:SBM_Nom_Log}\")\noutProps.setProperty(\"Var_EAI_DC\",\"${p:environment\/Cst_EAI_DC}\")\noutProps.setProperty(\"Var_EAIV8_Deployer_Directory\",\"${p:environment\/Cst_EAIV8_Root_Directory}\/${p:SBM_EAI_IS}\/bin\/IntegrationServer\/packages\/WmDeployer\/bin\")\noutProps.setProperty(\"Var_EAIV8_ConfigFile\",\"${p:environment\/Cst_EAIV8_ConfigFile}\")"},
                                "type": "plugin",
                                "name": "InitStep",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": false,
                                "showHidden": false,
                                "impersonationUseSudo": false,
                                "impersonationUseSsh": false,
                                "commandName": "Run Groovy Advance Script",
                                "pluginName": "GroovyAdvance",
                                "pluginVersion": 2,
                                "properties": {
                                    "externalLibJARList": "",
                                    "externalDirList": "",
                                    "scriptBody": "\/\/import Groovy CommunLib\n${p:component\/GroovyLib-Logger}\n${p:component\/GroovyLib-xPath}\n${p:component\/GroovyLib-wsSOAP}\n\ndef VarG_EAI_Tmp_Directory=\"${p:InitStep\/Var_EAI_Tmp_Directory}\"\n\n\/\/ Recuperation du nom projet\ndef File VarG_EAI_Tmp_DirectoryFile=new File(\"${p:InitStep\/Var_EAI_Tmp_Directory}\")\ndef VarG_c_logFileName=\"${p:InitStep\/Var_c_logFileName}\"\ndef Var_EAI_BuildExtensionName=\"${p:InitStep\/Var_EAI_BuildExtensionName}\"\n\ndef VarG_EAI_Build=\"\"\ndef VarG_EAI_Project=\"\"\n\nVarG_EAI_Tmp_DirectoryFile.eachFile {\n if(it =~ \"^*${Var_EAI_BuildExtensionName}\\$\"){ \n\t VarG_EAI_Build=it.getName()\n\t def tab=VarG_EAI_Build.split(\"_\")\n\t VarG_EAI_Project=tab[0]+\"_\"+tab[1]\n\t \n } else {println \"[D] file:$it\"}\n \n}\nprintln \"[D] VarG_EAI_Project:$VarG_EAI_Project\"\nif(VarG_EAI_Project==\"\"){\n\tlogger(\"ERROR\",\"Impossible de recuperer le nom du projet a partir du fichier dans  \\\"${VarG_EAI_Tmp_Directory}\\\"\",\"${VarG_c_logFileName}\")\n\tSystem.exit(1)\n}\n\nlogger(\"INFO\",\"nom du projet Deployer =${VarG_EAI_Project}\",\"$VarG_c_logFileName\")\nlogger(\"DEBUG\",\"enregistrement des variables dans outProps\",null)\noutProps.setProperty(\"Var_EAI_Project\",\"$VarG_EAI_Project\")\n"
                                },
                                "type": "plugin",
                                "name": "SetVarBuild",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": true,
                                "impersonationUsername": "${p:SBM_Login}",
                                "impersonationGroup": "",
                                "showHidden": false,
                                "impersonationPassword": "${p:SBM_Password}",
                                "impersonationUseSudo": true,
                                "impersonationUseSsh": false,
                                "commandName": "Shell",
                                "pluginName": "Shell",
                                "pluginVersion": 4,
                                "properties": {
                                    "directoryOffset": ".",
                                    "shellInterpreter": "",
                                    "scriptBody": "VarG_EAI_Project=\"${p:SetVarBuild\/Var_EAI_Project}\"\nVarG_c_logFileName=\"${p:InitStep\/Var_c_logFileName}\"\nCst_EAIV8_Deployer_Directory=\"${p:InitStep\/Var_EAIV8_Deployer_Directory}\"\nCst_EAI_DC=\"${p:InitStep\/Var_EAI_DC}\"\nCst_EAIV8_ConfigFile=\"${p:InitStep\/Var_EAIV8_ConfigFile}\"\n\n\t\necho \"`date '+%Y%m%d-%H%M%S'`:  [INFO] Debut du RollBack webMethods\" 2>&1 | tee -a ${VarG_c_logFileName} \ncd ${Cst_EAIV8_Deployer_Directory}\necho \"cmd:.\/Deployer.sh.new --rollback -project ${VarG_EAI_Project}   -dc  ${Cst_EAI_DC} --configfile ${Cst_EAIV8_ConfigFile}\" 2>&1 | tee -a ${VarG_c_logFileName} \nVar_Cmd_Out=$(.\/Deployer.sh.new --rollback -project ${VarG_EAI_Project}   -dc  ${Cst_EAI_DC} --configfile ${Cst_EAIV8_ConfigFile}   2>&1)\nstatus=$?\necho \"$Var_Cmd_Out\" | tee -a ${VarG_c_logFileName}\nif [ $status -eq 1 ]; then\n\techo \"`date +%Y%m%d-%H%M%S`: [ERROR] Erreur dans l'execution de la commande .\/Deployer.sh.new --rollback -project ${VarG_EAI_Project} (...)\" | tee -a ${VarG_c_logFileName}\n\texit 1\nelse\n\tif [ $status -eq 4 ]; then\n\t\techo \"`date +%Y%m%d-%H%M%S`: [WARN] Erreur dans l'execution de la commande .\/Deployer.sh.new --rollback -project ${VarG_EAI_Project} (...)\" | tee -a ${VarG_c_logFileName}\n\telse\n\t\techo \"`date +%Y%m%d-%H%M%S`: [INFO] RollBack  successful\" | tee -a  ${VarG_c_logFileName}\n\tfi\nfi\n",
                                    "runAsDaemon": "false",
                                    "outputFile": ""
                                },
                                "type": "plugin",
                                "name": "RollBackWebM",
                                "children": [],
                                "preconditionScript": "${p:SBM_Password}"
                            },
                            {
                                "sleepTime": "1",
                                "type": "processSleep",
                                "name": "cdd509f2e06a4b59c1d33432f0bb0c",
                                "children": []
                            }
                        ]
                    }
                },
                {
                    "name": "PREP_DEPLOY",
                    "description": "",
                    "defaultWorkingDir": "${p:resource\/work.dir}\/${p:component.name}",
                    "takesVersion": false,
                    "status": "",
                    "active": true,
                    "propDefs": [
                        {
                            "name": "SBM_Nom_Log",
                            "label": "SBM_Nom_Log",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_BaselineId",
                            "label": "SBM_BaselineId",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Folder",
                            "label": "SBM_Folder",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Package",
                            "label": "SBM_Package",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Substituable",
                            "label": "SBM_Substituable",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Environnement",
                            "label": "SBM_Environnement",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_EAI_IS",
                            "label": "SBM_EAI_IS",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_EAI_Deployer_Login",
                            "label": "SBM_EAI_Deployer_Login",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_EAI_Deployer_Password",
                            "label": "SBM_EAI_Deployer_Password",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_IS_Deployer",
                            "label": "SBM_IS_Deployer",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Login",
                            "label": "SBM_Login",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Password",
                            "label": "SBM_Password",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        }
                    ],
                    "rootActivity": {
                        "edges": [
                            {
                                "to": "Lancement_Simulation",
                                "from": "Creation_DC",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "Recuperation des Parametres et Substition dans Varsub",
                                "from": "Test_Existence_String_bindAddres_In_VarSubs",
                                "type": "ALWAYS",
                                "value": ""
                            },
                            {
                                "to": "IF_Substituable",
                                "from": "Gestion_Parametrage_VarSub",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "Recuperation des Parametres et Substition dans Varsub",
                                "from": "MAJ_BindAdress_In_VarSub",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "setVarBuild",
                                "from": "Decompression_package",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "MAJ_BindAdress_In_VarSub",
                                "from": "Test_Existence_String_bindAddres_In_VarSubs",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "Create_WorkSpace",
                                "from": "30754e66463ea9a2544c3aa882107c",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "Controle_Reponse_WSSOAP",
                                "from": "Creation_MAP_Via_WSSOAP",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "Creation_MAP_Via_WSSOAP",
                                "from": "Import_Build",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "Preparation_Import_Build",
                                "from": "Force_ProjectName_dans_WsSoap",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "30754e66463ea9a2544c3aa882107c",
                                "from": "InitStep",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "bbf6dce07fa1950f4e8e09ec865f69",
                                "from": "Lancement_Simulation",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "Analyse_Formatage_Package",
                                "from": "0e9fe4c8ba4feff7ee5003d1a9d73a",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "Test_Existence_String_bindAddres_In_VarSubs",
                                "from": "Force_remplacement_de_ 0&1_par_False&True_Parameters.xml",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "Force_remplacement_de_ 0&1_par_False&True_Parameters.xml",
                                "from": "IF_Substituable",
                                "type": "VALUE",
                                "value": "0"
                            },
                            {
                                "to": "Deploiement_Models_SOAP",
                                "from": "Analyse_Formatage_Package",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "InitStep",
                                "type": "ALWAYS",
                                "value": ""
                            },
                            {
                                "to": "Gestion_Parametrage_VarSub",
                                "from": "Controle_Reponse_WSSOAP",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "Decompression_package",
                                "from": "Recuperation_Package",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "Creation_DC",
                                "from": "Import_varSub",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "0e9fe4c8ba4feff7ee5003d1a9d73a",
                                "from": "setVarBuild",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "Force_ProjectName_dans_WsSoap",
                                "from": "Deploiement_Models_SOAP",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "Recuperation_Package",
                                "from": "Create_WorkSpace",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "Import_varSub",
                                "from": "Recuperation des Parametres et Substition dans Varsub",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "Import_varSub",
                                "from": "IF_Substituable",
                                "type": "VALUE",
                                "value": ""
                            },
                            {
                                "to": "Import_Build",
                                "from": "Preparation_Import_Build",
                                "type": "SUCCESS",
                                "value": ""
                            }
                        ],
                        "offsets": [
                            {
                                "name": "Force_remplacement_de_ 0&1_par_False&True_Parameters.xml",
                                "x": 441,
                                "y": 1550
                            },
                            {
                                "name": "Test_Existence_String_bindAddres_In_VarSubs",
                                "x": 441,
                                "y": 1760
                            },
                            {
                                "name": "Force_ProjectName_dans_WsSoap",
                                "x": 340.6931048084148,
                                "y": 815.4847856498873
                            },
                            {
                                "name": "IF_Substituable",
                                "x": 191,
                                "y": 1450
                            },
                            {
                                "name": "Decompression_package",
                                "x": -85,
                                "y": 400
                            },
                            {
                                "name": "Deploiement_Models_SOAP",
                                "x": -65,
                                "y": 730
                            },
                            {
                                "name": "Recuperation_Package",
                                "x": -115,
                                "y": 310
                            },
                            {
                                "name": "Analyse_Formatage_Package",
                                "x": -75,
                                "y": 640
                            },
                            {
                                "name": "InitStep",
                                "x": -65,
                                "y": 70
                            },
                            {
                                "name": "Lancement_Simulation",
                                "x": 311,
                                "y": 2310
                            },
                            {
                                "name": "Gestion_Parametrage_VarSub",
                                "x": 125,
                                "y": 1340
                            },
                            {
                                "name": "Create_WorkSpace",
                                "x": -85,
                                "y": 230
                            },
                            {
                                "name": "Controle_Reponse_WSSOAP",
                                "x": 125,
                                "y": 1220
                            },
                            {
                                "name": "Preparation_Import_Build",
                                "x": -15,
                                "y": 920
                            },
                            {
                                "name": "setVarBuild",
                                "x": -75,
                                "y": 490
                            },
                            {
                                "name": "0e9fe4c8ba4feff7ee5003d1a9d73a",
                                "x": -272.5,
                                "y": 570
                            },
                            {
                                "name": "Import_varSub",
                                "x": 271,
                                "y": 2085
                            },
                            {
                                "name": "Import_Build",
                                "x": -20,
                                "y": 1030
                            },
                            {
                                "name": "Creation_DC",
                                "x": 331,
                                "y": 2190
                            },
                            {
                                "name": "MAJ_BindAdress_In_VarSub",
                                "x": 686,
                                "y": 1870
                            },
                            {
                                "name": "Creation_MAP_Via_WSSOAP",
                                "x": 31,
                                "y": 1131.0636363636363
                            },
                            {
                                "name": "bbf6dce07fa1950f4e8e09ec865f69",
                                "x": 383.5,
                                "y": 2410
                            },
                            {
                                "name": "Recuperation des Parametres et Substition dans Varsub",
                                "x": 491,
                                "y": 2000
                            },
                            {
                                "name": "30754e66463ea9a2544c3aa882107c",
                                "x": -285.5,
                                "y": 159
                            }
                        ],
                        "sizes": [
                            {
                                "name": "Analyse_Formatage_Package",
                                "width": 260,
                                "height": 60
                            },
                            {
                                "name": "Import_varSub",
                                "width": 150,
                                "height": 60
                            },
                            {
                                "name": "Decompression_package",
                                "width": 260,
                                "height": 60
                            },
                            {
                                "name": "bbf6dce07fa1950f4e8e09ec865f69",
                                "width": 80,
                                "height": 50
                            },
                            {
                                "name": "Recuperation des Parametres et Substition dans Varsub",
                                "width": 380,
                                "height": 60
                            },
                            {
                                "name": "InitStep",
                                "width": 210,
                                "height": 60
                            },
                            {
                                "name": "Create_WorkSpace",
                                "width": 260,
                                "height": 60
                            },
                            {
                                "name": "0e9fe4c8ba4feff7ee5003d1a9d73a",
                                "width": 150,
                                "height": 40
                            },
                            {
                                "name": "Force_remplacement_de_ 0&1_par_False&True_Parameters.xml",
                                "width": 420,
                                "height": 60
                            },
                            {
                                "name": "Force_ProjectName_dans_WsSoap",
                                "width": 260,
                                "height": 60
                            },
                            {
                                "name": "setVarBuild",
                                "width": 260,
                                "height": 60
                            },
                            {
                                "name": "Import_Build",
                                "width": 140,
                                "height": 60
                            },
                            {
                                "name": "Preparation_Import_Build",
                                "width": 210,
                                "height": 60
                            },
                            {
                                "name": "Recuperation_Package",
                                "width": 310,
                                "height": 60
                            },
                            {
                                "name": "Creation_MAP_Via_WSSOAP",
                                "width": 260,
                                "height": 60
                            },
                            {
                                "name": "IF_Substituable",
                                "width": 270,
                                "height": 60
                            },
                            {
                                "name": "Deploiement_Models_SOAP",
                                "width": 260,
                                "height": 60
                            },
                            {
                                "name": "Test_Existence_String_bindAddres_In_VarSubs",
                                "width": 330,
                                "height": 60
                            },
                            {
                                "name": "Controle_Reponse_WSSOAP",
                                "width": 230,
                                "height": 60
                            },
                            {
                                "name": "Creation_DC",
                                "width": 140,
                                "height": 60
                            },
                            {
                                "name": "MAJ_BindAdress_In_VarSub",
                                "width": 260,
                                "height": 60
                            },
                            {
                                "name": "Gestion_Parametrage_VarSub",
                                "width": 240,
                                "height": 60
                            },
                            {
                                "name": "Lancement_Simulation",
                                "width": 200,
                                "height": 60
                            },
                            {
                                "name": "30754e66463ea9a2544c3aa882107c",
                                "width": 150,
                                "height": 40
                            }
                        ],
                        "type": "graph",
                        "name": "a7e6b393-65ed-485a-8f2e-ba3977ab36aa",
                        "children": [
                            {
                                "type": "finish",
                                "name": "bbf6dce07fa1950f4e8e09ec865f69",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": false,
                                "showHidden": false,
                                "impersonationUseSudo": false,
                                "impersonationUseSsh": false,
                                "commandName": "Run Groovy Script",
                                "pluginName": "GroovyAdvance",
                                "pluginVersion": 2,
                                "properties": {"scriptBody": "\/\/import Groovy CommunLib\n${p:component\/GroovyLib-Logger}\n${p:component\/GroovyLib-xPath}\n${p:component\/GroovyLib-wsSOAP}\n\nlogger(\"INFO\",\"Initialisation des variables\",null)\n\n\n\noutProps.setProperty(\"Var_DIM_SSHHost\",\"${p:environment\/Cst_DIM_SSHHost}\")\noutProps.setProperty(\"Var_DIM_SSHPort\",\"${p:environment\/Cst_DIM_SSHPort}\")\noutProps.setProperty(\"Var_DIM_SSHUser\",\"${p:environment\/Cst_DIM_SSHUser}\")\noutProps.setProperty(\"Var_DIM_SSHPrivateKey\",\"${p:environment\/Cst_DIM_SSHPrivateKey}\")\noutProps.setProperty(\"Var_DIM_SSHPassword\",\"${p:environment\/Cst_DIM_SSHPassword}\")\noutProps.setProperty(\"Var_DIM_SSHPassPhrase\",\"${p:environment\/Cst_DIM_SSHPassPhrase}\")\noutProps.setProperty(\"Var_DIM_SSHTrust\",\"${p:environment\/Cst_DIM_SSHTrust}\")\noutProps.setProperty(\"Var_DIM_SSHKnownHosts\",\"${p:environment\/Cst_DIM_SSHKnownHosts}\")\noutProps.setProperty(\"Var_DIM_SASDepot\",\"${p:environment\/Cst_DIM_SASDepot}\")\noutProps.setProperty(\"Var_EAI_ParameterFile\",\"${p:environment\/Cst_EAI_ParameterFile}\")\noutProps.setProperty(\"Var_EAI_PathFilePollingListener\",\"${p:environment\/Cst_EAI_PathFilePollingListener}\")\noutProps.setProperty(\"Var_EAI_ListAvailableDeploySetRegexp\",\"${p:environment\/Cst_EAI_ListAvailableDeploySetRegexp}\")\noutProps.setProperty(\"Var_EAI_Deployer_Domaine\",\"${p:environment\/Cst_EAI_Deployer_Domaine}\")\noutProps.setProperty(\"Var_EAI_Deployer_Realm\",\"${p:environment\/Cst_EAI_Deployer_Realm}\")\noutProps.setProperty(\"Var_EAI_Deployer_Authentifcation\",\"${p:environment\/Cst_EAI_Deployer_Authentifcation}\")\noutProps.setProperty(\"Var_EAI_Map\",\"${p:environment\/Cst_EAI_Map}\")\noutProps.setProperty(\"Var_EAI_DC\",\"${p:environment\/Cst_EAI_DC}\")\noutProps.setProperty(\"Var_EAI_TempBaseDir\",\"${p:environment\/Cst_EAI_TempBaseDir}\")\noutProps.setProperty(\"Var_EAI_BuildExtensionName\",\"${p:environment\/Cst_EAI_BuildExtensionName}\")\n\n\n\noutProps.setProperty(\"Var_Login\",\"${p:SBM_Login}\")\noutProps.setProperty(\"Var_Password\",\"${p:SBM_Password}\")\noutProps.setProperty(\"Var_Nom_Log\",\"${p:SBM_Nom_Log}\")\noutProps.setProperty(\"Var_BaselineId\",\"${p:SBM_BaselineId}\")\noutProps.setProperty(\"Var_Folder\",\"${p:SBM_Folder}\")\noutProps.setProperty(\"Var_Package\",\"${p:SBM_Package}\")\noutProps.setProperty(\"Var_Substituable\",\"${p:SBM_Substituable}\")\noutProps.setProperty(\"Var_Environnement\",\"${p:SBM_Environnement}\")\noutProps.setProperty(\"Var_EAI_IS\",\"${p:SBM_EAI_IS}\")\noutProps.setProperty(\"Var_EAI_Deployer_Login\",\"${p:SBM_EAI_Deployer_Login}\")\noutProps.setProperty(\"Var_EAI_Deployer_Password\",\"${p:SBM_EAI_Deployer_Password}\")\noutProps.setProperty(\"Var_IS_Deployer\",\"${p:SBM_IS_Deployer}\")\n\noutProps.setProperty(\"Var_EAI_Tmp_Directory\",\"${p:environment\/Cst_EAI_TempBaseDir}\/${p:SBM_BaselineId}\")\noutProps.setProperty(\"Var_c_logFileName\",\"${p:environment\/Cst_EAI_TempBaseDir}\/${p:SBM_Nom_Log}\")\noutProps.setProperty(\"Var_EAI_Path_WsSoap_model\",\"${p:environment\/Cst_DIM_SASDepot}\/EAI\/backup\/ws_soap\")\noutProps.setProperty(\"Var_EAI_Path_WsBindAddress_model\",\"${p:environment\/Cst_DIM_SASDepot}\/EAI\/backup\/ws_bindaddress\")\n\noutProps.setProperty(\"Var_EAIV8_ConfigFile\",\"${p:environment\/Cst_EAIV8_ConfigFile}\")\noutProps.setProperty(\"Var_EAIV8_Root_Directory\",\"${p:environment\/Cst_EAIV8_Root_Directory}\")\noutProps.setProperty(\"Var_EAIV8_Deployer_Directory\",\"${p:environment\/Cst_EAIV8_Root_Directory}\/${p:SBM_EAI_IS}\/bin\/IntegrationServer\/packages\/WmDeployer\/bin\")\noutProps.setProperty(\"Var_EAIV8_InBound_Directory\",\"${p:environment\/Cst_EAIV8_Root_Directory}\/${p:SBM_EAI_IS}\/bin\/IntegrationServer\/packages\/WmDeployer\/replicate\/inbound\")\noutProps.setProperty(\"Var_EAIV8_OutBound_Directory\",\"${p:environment\/Cst_EAIV8_Root_Directory}\/${p:SBM_EAI_IS}\/bin\/IntegrationServer\/packages\/WmDeployer\/replicate\/outbound\")"},
                                "type": "plugin",
                                "name": "InitStep",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": false,
                                "showHidden": false,
                                "impersonationUseSudo": false,
                                "impersonationUseSsh": false,
                                "commandName": "SCP-GetOneFileFromRemoteDirectory",
                                "pluginName": "SCP",
                                "pluginVersion": 1,
                                "properties": {
                                    "sshHost": "${p:environment\/Cst_DIM_SSHHost}",
                                    "sshPort": "${p:environment\/Cst_DIM_SSHPort}",
                                    "sshUser": "${p:environment\/Cst_DIM_SSHUser}",
                                    "sshPassword": "pbe{32nLZZdZgW5wVGJlq1X1Yn1Ke94eoJC0PEHdjfsn\/8xbKNIBozlSxQmT4T63E0QSu9OrjMzZhZc=}",
                                    "sshKeyfile": "",
                                    "sshPassphrase": "pbe{q2RFVsBNOnd\/dwhOW0kZVmw+Xrb+7P6V}",
                                    "sshTrust": "true",
                                    "sshKnownhosts": "",
                                    "sshVerbose": "true",
                                    "sshSftp": "false",
                                    "sshPreserveLastModified": "false",
                                    "remoteSrcFile": "${p:environment\/Cst_DIM_SASDepot}\/${p:InitStep\/Var_BaselineId}\/EAIV8\/${p:InitStep\/Var_Folder}\/${p:InitStep\/Var_Package}",
                                    "localDestFile": "${p:InitStep\/Var_EAI_Tmp_Directory}\/${p:InitStep\/Var_Package}"
                                },
                                "type": "plugin",
                                "name": "Recuperation_Package",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": false,
                                "showHidden": false,
                                "impersonationUseSudo": false,
                                "impersonationUseSsh": false,
                                "commandName": "Run Groovy Advance Script",
                                "pluginName": "GroovyAdvance",
                                "pluginVersion": 2,
                                "properties": {
                                    "externalLibJARList": "",
                                    "externalDirList": "",
                                    "scriptBody": "\/\/import Groovy CommunLib\n${p:component\/GroovyLib-Logger}\n${p:component\/GroovyLib-xPath}\n${p:component\/GroovyLib-wsSOAP}\n\ndef String VarG_EAI_Tmp_Directory=\"${p:InitStep\/Var_EAI_Tmp_Directory}\"\ndef VarG_c_logFileName=\"${p:InitStep\/Var_c_logFileName}\"\ndef Cst_EAI_ParameterFile=\"${p:InitStep\/Var_EAI_ParameterFile}\"\ndef Sbm_Package=\"${p:InitStep\/Var_Package}\"\n\nlogger(\"INFO\",\"Extraction du fichier zip \\\"${VarG_EAI_Tmp_Directory}\/${Sbm_Package}\\\"\",\"$VarG_c_logFileName\")\ntry{\n\tdef ant = new AntBuilder()\/\/ create an antbuilder\n\n\tant.unzip(  src:\"${VarG_EAI_Tmp_Directory}\/${Sbm_Package}\",\n\t\t\tdest:\"${VarG_EAI_Tmp_Directory}\",\n\t\t\toverwrite:\"false\"\n\t\t\t )\n\tif(!new File(\"${VarG_EAI_Tmp_Directory}\/${Cst_EAI_ParameterFile}\").isFile()){\n\t\tlogger(\"ERROR\",\"Impossible de trouver le fichier \\\"${Cst_EAI_ParameterFile}\\\". Verifiez qu'il est bien nomme dans le package EAI\",\"$VarG_c_logFileName\")\n\t\tSystem.exit(1)\n\t}\n}\ncatch (Exception e) {\n\te.printStackTrace()\n\tlogger(\"ERROR\",\"Erreur dans l'extraction du fichier zip \\\"${VarG_EAI_Tmp_Directory}\/${Sbm_Package}\\\"\",\"$VarG_c_logFileName\")\n\tlogger(\"ERROR\", e.getMessage())\n\tSystem.exit(1)\n}\n\n\/\/ Suppression du package source\nif ( ! new File(\"${VarG_EAI_Tmp_Directory}\/${Sbm_Package}\").delete()) {\n\tlogger(\"ERROR\",\"Impossible de supprimer le fichier zip  \\\"${VarG_EAI_Tmp_Directory}\/${Sbm_Package}\\\"\",\"$VarG_c_logFileName\")\n\tSystem.exit(1)\n}\nelse{\n\tlogger(\"INFO\",\"Suppression du package \\\"${VarG_EAI_Tmp_Directory}\/${Sbm_Package}\\\"\",\"$VarG_c_logFileName\")\n}\nSystem.exit(0)"
                                },
                                "type": "plugin",
                                "name": "Decompression_package",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": false,
                                "showHidden": false,
                                "impersonationUseSudo": false,
                                "impersonationUseSsh": false,
                                "commandName": "Run Groovy Advance Script",
                                "pluginName": "GroovyAdvance",
                                "pluginVersion": 2,
                                "properties": {
                                    "externalLibJARList": "",
                                    "externalDirList": "",
                                    "scriptBody": "\/\/import Groovy CommunLib\n${p:component\/GroovyLib-Logger}\n${p:component\/GroovyLib-xPath}\n${p:component\/GroovyLib-wsSOAP}\n\n\/\/ Recuperation du nom du build et de la version du build\ndef File VarG_EAI_Tmp_DirectoryFile=new File(\"${p:InitStep\/Var_EAI_Tmp_Directory}\")\ndef VarG_c_logFileName=\"${p:InitStep\/Var_c_logFileName}\"\ndef Var_EAI_BuildExtensionName=\"${p:InitStep\/Var_EAI_BuildExtensionName}\"\n\ndef VarG_EAI_Build=\"\"\ndef VarG_EAI_Version=\"\"\ndef VarG_EAI_Project=\"\"\n\nVarG_EAI_Tmp_DirectoryFile.eachFile {\n if(it =~ \"^*${Var_EAI_BuildExtensionName}\\$\"){ \n\t VarG_EAI_Build=it.getName()\n\t def tab=VarG_EAI_Build.split(\"_\")\n\t VarG_EAI_Project=tab[0]+\"_\"+tab[1]\n\t VarG_EAI_Version=tab[1]\n\t \n } else {println \"[D] file:$it\"}\n \n}\nprintln \"[D] VarG_EAI_Build:$VarG_EAI_Build\"\nif(VarG_EAI_Build==\"\"){\n\tlogger(\"ERROR\",\"Impossible de recuperer le nom du build a partir du fichier dans  \\\"${VarG_EAI_Tmp_Directory}\\\"\",\"$VarG_c_logFileName\")\n\tSystem.exit(1)\n}\nif(VarG_EAI_Version==\"\"){\n\tlogger(\"ERROR\",\"Impossible de recuperer la version a partir du fichier Build dans le repertoire  \\\"${VarG_EAI_Tmp_Directory}\\\"\",\"$VarG_c_logFileName\")\n\tSystem.exit(1)\n}\nlogger(\"INFO\",\"nom du build =$VarG_EAI_Build\",\"$VarG_c_logFileName\")\nlogger(\"INFO\",\"nom du projet Deployer =${VarG_EAI_Project}\",\"$VarG_c_logFileName\")\nlogger(\"INFO\",\"numero de version =$VarG_EAI_Version\",\"$VarG_c_logFileName\")\n\n\/\/Calcul de la value de  VarG_EAI_VsFile\ndef VarG_EAI_VsFile=\"${VarG_EAI_Project}_myDeploymentMap.vs\"\n\nlogger(\"DEBUG\",\"enregistrement des variables dans outProps\",null)\noutProps.setProperty(\"Var_EAI_Build\",\"$VarG_EAI_Build\")\noutProps.setProperty(\"Var_EAI_Project\",\"$VarG_EAI_Project\")\noutProps.setProperty(\"Var_EAI_Version\",\"$VarG_EAI_Version\")\noutProps.setProperty(\"Var_EAI_VsFile\",\"$VarG_EAI_VsFile\")\n\n"
                                },
                                "type": "plugin",
                                "name": "setVarBuild",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": false,
                                "showHidden": false,
                                "impersonationUseSudo": false,
                                "impersonationUseSsh": false,
                                "commandName": "Run Groovy Advance Script",
                                "pluginName": "GroovyAdvance",
                                "pluginVersion": 2,
                                "properties": {
                                    "externalLibJARList": "",
                                    "externalDirList": "",
                                    "scriptBody": "\/\/import Groovy CommunLib\n${p:component\/GroovyLib-Logger}\n${p:component\/GroovyLib-xPath}\n${p:component\/GroovyLib-wsSOAP}\n\n\n\/\/ Controle et mise en forme du package \ndef VarG_c_logFileName=\"${p:InitStep\/Var_c_logFileName}\"\ndef Cst_EAI_ParameterFile=\"${p:InitStep\/Var_EAI_ParameterFile}\"\ndef VarG_EAI_Build=\"${p:setVarBuild\/Var_EAI_Build}\"\ndef Cst_EAI_ListAvailableDeploySetRegexp=\"${p:InitStep\/Var_EAI_ListAvailableDeploySetRegexp}\"\ndef String VarG_EAI_Tmp_Directory=\"${p:InitStep\/Var_EAI_Tmp_Directory}\"\n\nlogger(\"INFO\",\"Controle et mise en forme du package \",\"$VarG_c_logFileName\")\n\nlogger(\"INFO\",\"Controle du fichier ${Cst_EAI_ParameterFile}\",\"$VarG_c_logFileName\")\nif(!new File(\"${VarG_EAI_Tmp_Directory}\/${Cst_EAI_ParameterFile}\").isFile()){\n\t logger(\"ERROR\",\"Impossible de trouver le fichier \\\"${Cst_EAI_ParameterFile}\\\". Verifiez qu'il est bien nomme dans le package EAI\",\"$VarG_c_logFileName\")\n\t System.exit(1)\n}\n else{\n def ant = new AntBuilder()\n\t \/\/sed 's#FilePollingListener:\/app\/data\/#FilePollingListener:\/APP\/DATA\/#' | sed 's#FilePollingListener:\/APP\/DATA\/DEV#FilePollingListener:\/APP\/DATA#' | sed 's#FilePollingListener:\/APP\/DATA#FilePollingListener:\/APP\/DATA\/DEV#'\n\t logger(\"INFO\",\"Force la valeur FilePollingListener a : FilePollingListener:\/APP\/DATA\/DEV\",\"$VarG_c_logFileName\")\n\t ant.replace(\t file:\"${VarG_EAI_Tmp_Directory}\/${Cst_EAI_ParameterFile}\",summary: 'true',token: \"FilePollingListener:\/app\/data\/\", value: \"FilePollingListener:\/APP\/DATA\/\",failOnNoReplacements:'false')\n\t ant.replace(\t file:\"${VarG_EAI_Tmp_Directory}\/${Cst_EAI_ParameterFile}\",summary: 'true',token: \"FilePollingListener:\/APP\/DATA\/DEV\", value: \"FilePollingListener:\/APP\/DATA\/\",failOnNoReplacements:'false')\n\t ant.replace(\t file:\"${VarG_EAI_Tmp_Directory}\/${Cst_EAI_ParameterFile}\",summary: 'true',token: \"FilePollingListener:\/APP\/DATA\", value: \"FilePollingListener:\/APP\/DATA\/DEV\",failOnNoReplacements:'false')\n\n }\n\n logger(\"INFO\",\"Controle de la presence d'au moins 1 DeploymentSet dans  ${VarG_EAI_Build}\",\"$VarG_c_logFileName\")\n import java.util.zip.*\n def zipFile = new java.util.zip.ZipFile(new File(\"${VarG_EAI_Tmp_Directory}\/${VarG_EAI_Build}\"))\n def Boolean findDeploymentSet=false\n def String deploymentSetFound=\"\"\n try{\n\t zipFile.entries().each {\n\t\t\/\/println zipFile.getInputStream(it).text\n\t\t def ZipEntry e=it\n\t\t def fileName=e.getName()\n\t\t \/\/ex: fileName=DS_PM_F02\/IS\/Default\/LS1\/Packages\/GniReferentiel_Client_BPM_029_nodeACLs.xml\n\t\t \/\/ex: fileName=project.xml\n\t\t try{\n\t\t\t \n\t\t\t Cst_EAI_ListAvailableDeploySetRegexp.split(\"\\\\|\").each {\n\t\t\t\t dirName -> \n\t\t\t\t if(fileName =~ \"^${dirName}\/.*\\$\"){ \n\t\t\t\t\t findDeploymentSet=true; \n\t\t\t\t\t deploymentSetFound=dirName\n\t\t\t\t\t throw new Exception(dirName)\n\t\t\t\t }\n\t\t\t\t \n\t\t\t }\n\t\t }\n\t\tcatch (Exception e2){\n\t\t\tthrow new Exception(e2.getMessage())\n\t\t}\n\t\t\n\t\t\t\t\t \n\t }\n}\ncatch (Exception e1){\n}\nif(!findDeploymentSet){\n\t logger(\"ERROR\",\"Impossible de trouver les DeploymentSet\",\"$VarG_c_logFileName\")\n\t  System.exit(1)\n}\nelse{\n\tlogger(\"INFO\",\"Le package contient au moins le DeploymentSet:$deploymentSetFound\",\"$VarG_c_logFileName\")\n}\nSystem.exit(0)"
                                },
                                "type": "plugin",
                                "name": "Analyse_Formatage_Package",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": false,
                                "showHidden": false,
                                "impersonationUseSudo": false,
                                "impersonationUseSsh": false,
                                "commandName": "Run Groovy Advance Script",
                                "pluginName": "GroovyAdvance",
                                "pluginVersion": 2,
                                "properties": {
                                    "externalLibJARList": "",
                                    "externalDirList": "",
                                    "scriptBody": "\/\/import Groovy CommunLib\n${p:component\/GroovyLib-Logger}\n${p:component\/GroovyLib-xPath}\n${p:component\/GroovyLib-wsSOAP}\n\ndef VarL_ws_soap=\"${p:InitStep\/Var_EAI_Tmp_Directory}\/ws_soap\"\ndef VarL_ws_bindaddress=\"${p:InitStep\/Var_EAI_Tmp_Directory}\/ws_bindaddress\"\n\ndef VarG_c_logFileName=\"${p:InitStep\/Var_c_logFileName}\"\n\ndef VarG_Model_WSSOAP='''${p:component\/Model_WSSOAP}\n'''\ndef VarG_Model_BINDADDRESS='''${p:component\/Model_WSBINDADDRESS}\n'''\n\n\/\/ creation et ecriture du model WS_SOAP\ndef File VarWSSoapFile=new File(\"${VarL_ws_soap}\")\nVarG_Model_WSSOAP.eachLine { line-> \n    VarWSSoapFile<< line +\"\\n\"\n}\nlogger(\"DEBUG\",\"VarG_Model_WSSOAP=\\n$VarG_Model_WSSOAP\",\"$VarG_c_logFileName\")\nlogger(\"DEBUG\",\"VarG_Model_BINDADDRESS=\\n$VarG_Model_BINDADDRESS\",\"$VarG_c_logFileName\")\nlogger(\"INFO\",\"Generation du model ${VarL_ws_soap} \",\"$VarG_c_logFileName\")\n\n\n\n\n\/\/ creation et ecriture du model WS_BINDADDRESS\ndef File VarWSBindAddressFile=new File(\"${VarL_ws_bindaddress}\")\nVarG_Model_BINDADDRESS.eachLine { line-> \n    VarWSBindAddressFile<< line +\"\\n\"\n}\n\nlogger(\"INFO\",\"Generation du model ${VarL_ws_bindaddress} \",\"$VarG_c_logFileName\")\n"
                                },
                                "type": "plugin",
                                "name": "Deploiement_Models_SOAP",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": true,
                                "impersonationUsername": "${p:SBM_Login}",
                                "impersonationGroup": "",
                                "showHidden": false,
                                "impersonationPassword": "${p:SBM_Password}",
                                "impersonationUseSudo": true,
                                "impersonationUseSsh": false,
                                "commandName": "Shell",
                                "pluginName": "Shell",
                                "pluginVersion": 4,
                                "properties": {
                                    "directoryOffset": "bash",
                                    "shellInterpreter": "",
                                    "scriptBody": "# Import du Build\nVarG_EAI_Tmp_Directory=\"${p:InitStep\/Var_EAI_Tmp_Directory}\"\nVarG_c_logFileName=\"${p:InitStep\/Var_c_logFileName}\"\nCst_EAIV8_Root_Directory=\"${p:InitStep\/Var_EAIV8_Root_Directory}\"\nCst_EAIV8_ConfigFile=\"${p:InitStep\/Var_EAIV8_ConfigFile}\"\nCst_EAIV8_InBound_Directory=\"${p:InitStep\/Var_EAIV8_InBound_Directory}\"\nCst_EAIV8_OutBound_Directory=\"${p:InitStep\/Var_EAIV8_OutBound_Directory}\"\nCst_EAIV8_Deployer_Directory=\"${p:InitStep\/Var_EAIV8_Deployer_Directory}\"\nSbm_EAI_IS=\"${p:InitStep\/Var_EAI_IS}\"\n\nVarG_EAI_Project=\"${p:setVarBuild\/Var_EAI_Project}\"\nVarG_EAI_Build=\"${p:setVarBuild\/Var_EAI_Build}\"\nVarG_EAI_Version=\"${p:setVarBuild\/Var_EAI_Version}\"\nVarG_EAI_VsFile=\"${p:setVarBuild\/Var_EAI_VsFile}\"\n\n\n \n\n## Suppresion du projet dans le Deployer\ncd ${Cst_EAIV8_Deployer_Directory}\necho \"cmd:.\/Deployer.sh --list -candidate build -project ${VarG_EAI_Project}  -configfile ${Cst_EAIV8_ConfigFile}\" 2>&1 | tee -a ${VarG_c_logFileName} \nVar_Cmd_Out=$(.\/Deployer.sh --list -candidate build -project ${VarG_EAI_Project}  -configfile ${Cst_EAIV8_ConfigFile}  2>&1) \nstatus=$?\necho \"$Var_Cmd_Out\" | tee -a ${VarG_c_logFileName}\nif [ $status -eq 0 ]; then\n\techo \"`date +%Y%m%d-%H%M%S`: [INFO] Commande .\/Deployer.sh --list -candidate build -project ${VarG_EAI_Project} successful\" | tee -a  ${VarG_c_logFileName}\n\techo \"cmd:.\/Deployer.sh --delete -project ${VarG_EAI_Project}  -configfile ${Cst_EAIV8_ConfigFile}\" 2>&1 | tee -a ${VarG_c_logFileName}\n\tVar_Cmd_Out=$(.\/Deployer.sh --delete -project ${VarG_EAI_Project}  -configfile ${Cst_EAIV8_ConfigFile}  2>&1)\n\tstatus2=$?\n\techo \"$Var_Cmd_Out\" | tee -a ${VarG_c_logFileName}\n\t if [ $status2 -ne 0 ]; then\n\t\techo \"`date '+%Y%m%d-%H%M%S'`: [ERROR]  impossible de supprimer le projet webMethods dans le Deployer\" 2>&1 | tee -a ${VarG_c_logFileName} \n\t\texit 1\n\telse\n\t\techo \"`date '+%Y%m%d-%H%M%S'`: [INFO]  supression du projet webMethods dans le Deployer OK\" 2>&1 | tee -a ${VarG_c_logFileName}\n\tfi\nfi\n \n \n\n\n\n# copie du package dans le rep WebMethod\necho \"cmd:cp ${VarG_EAI_Tmp_Directory}\/${VarG_EAI_Build} ${Cst_EAIV8_InBound_Directory}\" 2>&1 | tee -a ${VarG_c_logFileName} \nVar_Cmd_Out=$(cp ${VarG_EAI_Tmp_Directory}\/${VarG_EAI_Build} ${Cst_EAIV8_InBound_Directory} 2>&1)\nstatus=$?\necho \"$Var_Cmd_Out\" | tee -a ${VarG_c_logFileName}\nif [ $status -ne 0 ]; then\n\techo \"`date +%Y%m%d-%H%M%S`: [ERROR] Commande en erreur\" | tee -a ${VarG_c_logFileName}\n\texit 1\nelse\n\techo \"`date +%Y%m%d-%H%M%S`: [INFO] Commande successful\" | tee -a  ${VarG_c_logFileName}\nfi\n\n\n\n\n\n# Import du package\ncd ${Cst_EAIV8_Deployer_Directory}\necho \"cmd:.\/Deployer.sh --import -buildFile ${VarG_EAI_Build}   -configfile ${Cst_EAIV8_ConfigFile}\" 2>&1 | tee -a ${VarG_c_logFileName} \nVar_Cmd_Out=$(.\/Deployer.sh --import -buildFile ${VarG_EAI_Build}   -configfile ${Cst_EAIV8_ConfigFile}   2>&1) \nstatus=$?\necho \"$Var_Cmd_Out\" | tee -a ${VarG_c_logFileName}\nif [ $status -eq 1 ]; then\n\techo \"`date +%Y%m%d-%H%M%S`: [ERROR] Commande en erreur\" | tee -a ${VarG_c_logFileName}\n\texit 1\nelse\n\tif [ $status -eq 4 ]; then\n\t\techo \"`date +%Y%m%d-%H%M%S`: [WARN] Commande avec warning\" | tee -a ${VarG_c_logFileName}\n\telse\n\t\techo \"`date +%Y%m%d-%H%M%S`: [INFO] Commande successful\" | tee -a  ${VarG_c_logFileName}\n\tfi\nfi\n",
                                    "runAsDaemon": "false",
                                    "outputFile": ""
                                },
                                "type": "plugin",
                                "name": "Import_Build",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": false,
                                "showHidden": false,
                                "impersonationUseSudo": false,
                                "impersonationUseSsh": false,
                                "commandName": "Shell",
                                "pluginName": "Shell",
                                "pluginVersion": 4,
                                "properties": {
                                    "directoryOffset": ".",
                                    "shellInterpreter": "bash",
                                    "scriptBody": "# Check la response à l'appel webservice\nVarG_EAI_Tmp_Directory=\"${p:InitStep\/Var_EAI_Tmp_Directory}\"\nVarG_c_logFileName=\"${p:InitStep\/Var_c_logFileName}\"\necho \"cmd:grep \"true\"  ${VarG_EAI_Tmp_Directory}\/ws_response\" 2>&1 | tee -a ${VarG_c_logFileName} \ngrep \"true\"  ${VarG_EAI_Tmp_Directory}\/ws_response\nif [ $? -ne 0 ]; then\n   echo \"`date '+%Y%m%d-%H%M%S'`: [ERROR] Erreur dans la reponse de la map. La reponse est \\\"false\\\"   \" 2>&1 | tee -a  ${VarG_c_logFileName} \n   exit 1\nelse\n   echo \"`date '+%Y%m%d-%H%M%S'`: [INFO] Map a ete cree\"   2>&1 | tee -a ${VarG_c_logFileName} \nfi\n",
                                    "runAsDaemon": "false",
                                    "outputFile": ""
                                },
                                "type": "plugin",
                                "name": "Controle_Reponse_WSSOAP",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": true,
                                "impersonationUsername": "${p:SBM_Login}",
                                "impersonationGroup": "",
                                "showHidden": false,
                                "impersonationPassword": "${p:SBM_Password}",
                                "impersonationUseSudo": true,
                                "impersonationUseSsh": false,
                                "commandName": "Shell",
                                "pluginName": "Shell",
                                "pluginVersion": 4,
                                "properties": {
                                    "directoryOffset": ".",
                                    "shellInterpreter": "",
                                    "scriptBody": "# Gestion de VarSub\nVarG_EAI_Tmp_Directory=\"${p:InitStep\/Var_EAI_Tmp_Directory}\"\nVarG_c_logFileName=\"${p:InitStep\/Var_c_logFileName}\"\nCst_EAIV8_Root_Directory=\"${p:InitStep\/Var_EAIV8_Root_Directory}\"\nCst_EAIV8_ConfigFile=\"${p:InitStep\/Var_EAIV8_ConfigFile}\"\nCst_EAIV8_InBound_Directory=\"${p:InitStep\/Var_EAIV8_InBound_Directory}\"\nCst_EAIV8_OutBound_Directory=\"${p:InitStep\/Var_EAIV8_OutBound_Directory}\"\nCst_EAIV8_Deployer_Directory=\"${p:InitStep\/Var_EAIV8_Deployer_Directory}\"\nSbm_EAI_IS=\"${p:InitStep\/Var_EAI_IS}\"\nCst_EAI_DC=\"${p:InitStep\/Var_EAI_DC}\"\nVarG_EAI_Project=\"${p:setVarBuild\/Var_EAI_Project}\"\nVarG_EAI_Build=\"${p:setVarBuild\/Var_EAI_Build}\"\nVarG_EAI_Version=\"${p:setVarBuild\/Var_EAI_Version}\"\nVarG_EAI_VsFile=\"${p:setVarBuild\/Var_EAI_VsFile}\"\nVarG_EAI_ParameterFile=\"${p:InitStep\/Var_EAI_ParameterFile}\"\n\n# Suppression du fichier VarSub\nls -l \"${Cst_EAIV8_OutBound_Directory}\/${VarG_EAI_VsFile}\"\nif [ -f \"${Cst_EAIV8_OutBound_Directory}\/${VarG_EAI_VsFile}\" ]; then\n   echo \"`date '+%Y%m%d-%H%M%S'`: [INFO] Suppression de ${Cst_EAIV8_OutBound_Directory}\/${VarG_EAI_VsFile} \"  2>&1 | tee -a ${VarG_c_logFileName} \n   rm -f \"${Cst_EAIV8_OutBound_Directory}\/${VarG_EAI_VsFile}\"\n   if [ $? -ne 0 ]; then \n        echo \"`date '+%Y%m%d-%H%M%S'`: [ERROR] Impossible de supprimer ${Cst_EAIV8_OutBound_Directory}\/${VarG_EAI_VsFile} \"  2>&1 | tee -a ${VarG_c_logFileName} \n        exit 1;\n   fi\nelse \n\techo \"`date '+%Y%m%d-%H%M%S'`: [WARN]le fichier ${Cst_EAIV8_OutBound_Directory}\/${VarG_EAI_VsFile} n'existe pas\"\nfi\n\n# Export d'un fichier VarSub\ncd ${Cst_EAIV8_Deployer_Directory}\necho \"cmd:.\/Deployer.sh --export -varsub -map  ${Cst_EAI_Map} -project ${VarG_EAI_Project}  -configfile $Cst_EAIV8_ConfigFile\" 2>&1 | tee -a ${VarG_c_logFileName} \nVar_Cmd_Out=$(.\/Deployer.sh --export -varsub -map  ${Cst_EAI_Map} -project ${VarG_EAI_Project}  -configfile $Cst_EAIV8_ConfigFile  2>&1) \nstatus=$?\necho \"$Var_Cmd_Out\" | tee -a ${VarG_c_logFileName}\nif [ $status -eq 1 ]; then\n\techo \"`date +%Y%m%d-%H%M%S`: [ERROR] Erreur dans l'execution de la commande .\/Deployer.sh  --export -varsub -map  ${Cst_EAI_Map} (...)\" | tee -a ${VarG_c_logFileName}\n\texit 1\nelse\n\tif [ $status -eq 4 ]; then\n\t\techo \"`date +%Y%m%d-%H%M%S`: [WARN] Warning dans l'execution de la commande .\/Deployer.sh  --export -varsub -map  ${Cst_EAI_Map} (...)\" | tee -a ${VarG_c_logFileName}\n\telse\n\t\techo \"`date +%Y%m%d-%H%M%S`: [INFO] execution de la commande .\/Deployer.sh  --export -varsub -map  ${Cst_EAI_Map} (...) successful\" | tee -a  ${VarG_c_logFileName}\n\tfi\nfi\n\n# coipe temporaire de l'original dans VarG_EAI_Tmp_Directory\ncp -f ${Cst_EAIV8_OutBound_Directory}\/${VarG_EAI_VsFile} ${VarG_EAI_Tmp_Directory}\/${VarG_EAI_VsFile}-ori\n#DEBUG\nchmod 777 ${VarG_EAI_Tmp_Directory}\/${VarG_EAI_VsFile}-ori 2>&1 | tee -a ${VarG_c_logFileName} \n\n# Modification du fichier de parametrage\n# Mise en forme de ${VarG_EAI_Tmp_Directory}\/${VarG_EAI_ParameterFile}\necho \"`date '+%Y%m%d-%H%M%S'`: [INFO] Substitution de certaines donnees: ss:,x:, PREPRODUCTION,PRODUCTION,RECETTE contenu dans ${VarG_EAI_Tmp_Directory}\/${VarG_EAI_ParameterFile}  \"  2>&1 | tee -a ${VarG_c_logFileName} \necho \"cmd:sed -i 's\/ss:\/\/g', sed -i 's\/x:\/\/g',sed -i 's\/PREPRODUCTION\/PreProduction\/g',sed -i 's\/PRODUCTION\/Prd\/g',sed -i 's\/RECETTE\/Recette\/g'\" 2>&1 | tee -a ${VarG_c_logFileName} \n\nsed -i 's\/ss:\/\/g' ${VarG_EAI_Tmp_Directory}\/${VarG_EAI_ParameterFile} \n#attention \" x:\" et pas \"x:\" il y a UN espace\nsed -i 's\/ x:\/ \/g' ${VarG_EAI_Tmp_Directory}\/${VarG_EAI_ParameterFile}\nsed -i 's\/PREPRODUCTION\/PreProduction\/g' ${VarG_EAI_Tmp_Directory}\/${VarG_EAI_ParameterFile}\nsed -i 's\/PRODUCTION\/Prd\/g' ${VarG_EAI_Tmp_Directory}\/${VarG_EAI_ParameterFile}\nsed -i 's\/RECETTE\/Recette\/g' ${VarG_EAI_Tmp_Directory}\/${VarG_EAI_ParameterFile}\n\nexit 0",
                                    "runAsDaemon": "false",
                                    "outputFile": ""
                                },
                                "type": "plugin",
                                "name": "Gestion_Parametrage_VarSub",
                                "children": []
                            },
                            {
                                "propertyName": "InitStep\/Var_Substituable",
                                "type": "switch",
                                "name": "IF_Substituable",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": false,
                                "showHidden": false,
                                "impersonationUseSudo": false,
                                "impersonationUseSsh": false,
                                "workingDir": "${p:InitStep\/Var_EAI_Tmp_Directory}",
                                "commandName": "Update XML File with XPath",
                                "pluginName": "File Utils",
                                "pluginVersion": 28,
                                "properties": {
                                    "dirOffset": "",
                                    "includes": "**\/${p:InitStep\/Var_EAI_ParameterFile}",
                                    "excludes": "",
                                    "replaceText": "\/descendant::*[local-name()='Cell'][child::*[local-name()='Data']\/text()=\"poolable\"]\/parent::*[local-name()='Row']\/*[local-name()='Cell'][child::*[local-name()='Data']\/text()=\"0\"]\/*[local-name()='Data']\/text()->False\n\/descendant::*[local-name()='Cell'][child::*[local-name()='Data']\/text()=\"poolable\"]\/parent::*[local-name()='Row']\/*[local-name()='Cell'][child::*[local-name()='Data']\/text()=\"1\"]\/*[local-name()='Data']\/text()->True",
                                    "remove": "",
                                    "insert": "",
                                    "setAttr": "",
                                    "failWithoutMatch": "false"
                                },
                                "type": "plugin",
                                "name": "Force_remplacement_de_ 0&1_par_False&True_Parameters.xml",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": false,
                                "showHidden": false,
                                "impersonationUseSudo": false,
                                "impersonationUseSsh": false,
                                "commandName": "Shell",
                                "pluginName": "Shell",
                                "pluginVersion": 4,
                                "properties": {
                                    "directoryOffset": ".",
                                    "shellInterpreter": "bash",
                                    "scriptBody": "Cst_EAIV8_OutBound_Directory=\"${p:InitStep\/Var_EAIV8_OutBound_Directory}\"\nVarG_EAI_VsFile=\"${p:setVarBuild\/Var_EAI_VsFile}\"\negrep \"bindAddress\" \"${Cst_EAIV8_OutBound_Directory}\/${VarG_EAI_VsFile}\" 1>\/dev\/null \nexit $?",
                                    "runAsDaemon": "false",
                                    "outputFile": ""
                                },
                                "type": "plugin",
                                "name": "Test_Existence_String_bindAddres_In_VarSubs",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": true,
                                "impersonationUsername": "${p:SBM_Login}",
                                "impersonationGroup": "",
                                "showHidden": false,
                                "impersonationPassword": "${p:SBM_Password}",
                                "impersonationUseSudo": true,
                                "impersonationUseSsh": false,
                                "commandName": "Run Groovy Advance Script",
                                "pluginName": "GroovyAdvance",
                                "pluginVersion": 2,
                                "properties": {
                                    "externalLibJARList": "",
                                    "externalDirList": "",
                                    "scriptBody": "\/\/import Groovy CommunLib\n${p:component\/GroovyLib-Logger}\n${p:component\/GroovyLib-xPath}\n${p:component\/GroovyLib-wsSOAP}\n\nprintln \"Recuperation des Parametres et Substition dans Varsub\"\n\nfinal def String Cst_EAIV8_OutBound_Directory=\"${p:InitStep\/Var_EAIV8_OutBound_Directory}\"\nfinal def String VarG_EAI_VsFile=\"${p:setVarBuild\/Var_EAI_VsFile}\"\nfinal def String VarG_c_logFileName=\"${p:InitStep\/Var_c_logFileName}\"\nfinal def String VarG_EAI_Tmp_Directory=\"${p:InitStep\/Var_EAI_Tmp_Directory}\"\nfinal def String Sbm_Is_Deployer=\"${p:InitStep\/Var_IS_Deployer}\"\nfinal def String Sbm_EAI_IS=\"${p:InitStep\/Var_EAI_IS}\"\nfinal def String Var_EAI_ParameterFile=\"${p:InitStep\/Var_EAI_ParameterFile}\"\n\nfinal def String Sbm_EAI_Deployer_login=\"${p:InitStep\/Var_EAI_Deployer_Login}\"\nfinal def String Sbm_EAI_Deployer_Password=\"${p:InitStep\/Var_EAI_Deployer_Password}\"\nfinal def String Sbm_EAI_Deployer_Realm=\"${p:InitStep\/Var_EAI_Deployer_Realm}\"\nfinal def String Sbm_EAI_Deployer_Domaine=\"${p:InitStep\/Var_EAI_Deployer_Domaine}\"\n\n\n\/\/ Environnement\n\/\/ Verification input\ndef String envinput=\"${p:SBM_Environnement}\"\ndef String eaiv8Env=\"\"\nif(!(envinput.equals(\"Production\") || envinput.equals(\"Pre-Production\") || envinput.equals(\"Recette\"))){\n\tlogger(\"ERROR\",\"Mauvais Environnement\")\n\tSystem.exit(1)\n}\n\n\/\/ Chargement envinput\nif (envinput.equals(\"Production\")) {\n\teaiv8Env=\"Prd\"\n}\nif (envinput.equals(\"Pre-Production\")) {\n\teaiv8Env=\"PreProduction\"\n}\nif (envinput.equals(\"Recette\")) {\n\teaiv8Env=\"Recette\"\n}\nlogger(\"TRACE\",\"Environnement = \"+eaiv8Env,\"$VarG_c_logFileName\")\n\n\n\/******\nHistorique des requetes XPATH ds Nolio\n * \/descendant::NamedCell[contains(attribute::Name, \\\"${eaiv8Env}\\\") and (contains(attribute::Name, \\\"FILEPOLLINGPORT\\\") or contains(attribute::Name, \\\"JDBC\\\") or contains(attribute::Name, \\\"HTTPPORT\\\"))]\/parent::Cell[child::Data\/text() != \\\"\\\"]\/parent::Row\/Cell[child::Data\/text() != 'Recette' and child::Data\/text() != 'assetName' and position()=1 and child::Data\/text() != 'assetKey']\/Data\/text()\n\n\/descendant::Worksheet[not(contains(Table\/text(),\\\"assetKey\\\"))]\/descendant::Row[not(contains(child::Cell, \\\"assetName\\\")) and not(contains(child::Cell, \\\"${eaiv8Env}\\\"))]\/Cell\/NamedCell[contains(attribute::Name, \\\"${eaiv8Env}\\\") and not(contains(attribute::Name, \\\"USERS\\\")) and not(contains(attribute::Name, \\\"JMS\\\")) and not(contains(attribute::Name, \\\"JNDI\\\")) and not(contains(attribute::Name, \\\"WEBSERVICES\\\"))]\/parent::Cell[child::Data\/text() != \\\"\\\" and child::Data\/text() != \\\"${eaiv8Env}\\\" and child::Data\/text() != \\\"PreProduction\\\"]\/parent::Row\/Cell[position()=2 ]\/Data\/text()\n\n\/descendant::Worksheet[not(contains(Table\/text(),\\\"assetKey\\\"))]\/descendant::Row[not(contains(child::Cell, \\\"assetName\\\")) and not(contains(child::Cell, \\\"${eaiv8Env}\\\"))]\/Cell\/NamedCell[contains(attribute::Name, \\\"${eaiv8Env}\\\") and not(contains(attribute::Name, \\\"USERS\\\")) and not(contains(attribute::Name, \\\"JMS\\\")) and not(contains(attribute::Name, \\\"JNDI\\\")) and not(contains(attribute::Name, \\\"WEBSERVICES\\\"))]\/parent::Cell[child::Data\/text() != \\\"${eaiv8Env}\\\" and child::Data\/text() != \\\"PreProduction\\\"]\/Data\/text()\n ****\/\ndef String xPathQuery1=\"\/\/*[local-name()='NamedCell'][contains(attribute::Name, \\\"${eaiv8Env}\\\") and (contains(attribute::Name, \\\"FILEPOLLINGPORT\\\") or contains(attribute::Name, \\\"JDBC\\\") or contains(attribute::Name, \\\"HTTPPORT\\\"))]\/parent::*[local-name()='Cell'][child::*[local-name()='Data']\/text() != \\\"\\\"]\/parent::*[local-name()='Row']\/*[local-name()='Cell'][child::*[local-name()='Data']\/text() != 'Recette' and child::*[local-name()='Data']\/text() != 'assetName' and position()=1 and child::*[local-name()='Data']\/text() != 'assetKey']\/*[local-name()='Data']\/text()\";\ndef String xPathQuery2=\"\/\/*[local-name()='Worksheet'][not(contains(*[local-name()='Table']\/text(),\\\"assetKey\\\"))]\/\/*[local-name()='Row'][not(contains(child::*[local-name()='Cell'], \\\"assetName\\\")) and not(contains(child::*[local-name()='Cell'], \\\"${eaiv8Env}\\\"))]\/*[local-name()='Cell']\/*[local-name()='NamedCell'][contains(attribute::Name, \\\"${eaiv8Env}\\\") and not(contains(attribute::Name, \\\"USERS\\\")) and not(contains(attribute::Name, \\\"JMS\\\")) and not(contains(attribute::Name, \\\"JNDI\\\")) and not(contains(attribute::Name, \\\"WEBSERVICES\\\"))]\/parent::*[local-name()='Cell'][child::*[local-name()='Data']\/text() != \\\"\\\" and child::*[local-name()='Data']\/text() != \\\"${eaiv8Env}\\\" and child::*[local-name()='Data']\/text() != \\\"PreProduction\\\"]\/parent::*[local-name()='Row']\/*[local-name()='Cell'][position()=2 ]\/*[local-name()='Data']\/text()\"\ndef String xPathQuery3=\"\/\/*[local-name()='Worksheet'][not(contains(*[local-name()='Table']\/text(),\\\"assetKey\\\"))]\/\/*[local-name()='Row'][not(contains(child::*[local-name()='Cell'], \\\"assetName\\\")) and not(contains(child::*[local-name()='Cell'], \\\"${eaiv8Env}\\\"))]\/*[local-name()='Cell']\/*[local-name()='NamedCell'][contains(attribute::Name, \\\"${eaiv8Env}\\\") and not(contains(attribute::Name, \\\"USERS\\\")) and not(contains(attribute::Name, \\\"JMS\\\")) and not(contains(attribute::Name, \\\"JNDI\\\")) and not(contains(attribute::Name, \\\"WEBSERVICES\\\"))]\/parent::*[local-name()='Cell'][                                                 child::*[local-name()='Data']\/text() != \\\"${eaiv8Env}\\\" and child::*[local-name()='Data']\/text() != \\\"PreProduction\\\"]\/*[local-name()='Data']\/text()\"\ndef String ParametersXMLFile=\"${VarG_EAI_Tmp_Directory}\/${Var_EAI_ParameterFile}\"\ndef String VarSubFile=\"${Cst_EAIV8_OutBound_Directory}\/${VarG_EAI_VsFile}\"\n\n\n\/\/  Recuperation de la liste des keys dans le fichier parameters.xml\ndef Map mapR=xpath_execute(xPathQuery1,ParametersXMLFile)\nif (mapR[\"errorMessage\"] != \"\"){\n\tlogger(\"ERROR\", \"Impossible de recuperer de la liste des keys dans le fichier $ParametersXMLFile\",\"$VarG_c_logFileName\")\n\tlogger(\"ERROR\",mapR[\"errorMessage\"],\"$VarG_c_logFileName\")\n\tSystem.exit(1)\n}\ndef Var_EAI_PARAM_KEYS=mapR[\"allElements\"]\n\nlogger(\"DEBUG\", \"key errorMessage :\"+ mapR[\"errorMessage\"],\"$VarG_c_logFileName\")\nlogger(\"DEBUG\", \"key count :\"+ mapR[\"count\"],\"$VarG_c_logFileName\")\nlogger(\"DEBUG\", \" key firstElement :\"+ mapR[\"firstElement\"],\"$VarG_c_logFileName\")\nlogger(\"DEBUG\", \" key lastElement :\"+ mapR[\"lastElement\"],\"$VarG_c_logFileName\")\nlogger(\"DEBUG\", \" key allElements :\"+ mapR[\"allElements\"],\"$VarG_c_logFileName\")\n\n\n\n\/\/ recuperation des parametres\ndef Map mapR2=xpath_execute(xPathQuery2,ParametersXMLFile)\nif (mapR2[\"errorMessage\"] != \"\"){\n\tlogger(\"ERROR\", \"Impossible de recuperer de la liste des parameters dans le fichier $ParametersXMLFile\",\"$VarG_c_logFileName\")\n\tlogger(\"ERROR\", mapR2[\"errorMessage\"],\"$VarG_c_logFileName\")\n\tSystem.exit(1)\n}\ndef Var_EAI_PARAMS=mapR2[\"allElements\"]\nlogger(\"DEBUG\", \"param errorMessage :\"+ mapR2[\"errorMessage\"],\"$VarG_c_logFileName\")\nlogger(\"DEBUG\", \"param count :\"+ mapR2[\"count\"],\"$VarG_c_logFileName\")\nlogger(\"DEBUG\", \"param firstElement :\"+ mapR2[\"firstElement\"],\"$VarG_c_logFileName\")\nlogger(\"DEBUG\", \"param lastElement :\"+ mapR2[\"lastElement\"],\"$VarG_c_logFileName\")\nlogger(\"DEBUG\", \"param allElements :\"+ mapR2[\"allElements\"],\"$VarG_c_logFileName\")\n\n\/\/ recuperation des attributs\ndef Map mapR3=xpath_execute(xPathQuery3,ParametersXMLFile)\nif (mapR3[\"errorMessage\"] != \"\"){\n\tlogger(\"ERROR\", \" Impossible de recuperer de la liste des attributs dans le fichier $ParametersXMLFile\",\"$VarG_c_logFileName\")\n\tlogger(\"ERROR\", mapR3[\"errorMessage\"],\"$VarG_c_logFileName\")\n\tSystem.exit(1)\n}\n\ndef Var_EAI_ATTRIBUTS=mapR3[\"allElements\"]\nlogger(\"DEBUG\", \"attr errorMessage :\"+ mapR3[\"errorMessage\"],\"$VarG_c_logFileName\")\nlogger(\"DEBUG\", \"attr count :\"+ mapR3[\"count\"],\"$VarG_c_logFileName\")\nlogger(\"DEBUG\", \"attr firstElement :\"+ mapR3[\"firstElement\"],\"$VarG_c_logFileName\")\nlogger(\"DEBUG\", \"attr lastElement :\"+ mapR3[\"lastElement\"],\"$VarG_c_logFileName\")\nlogger(\"DEBUG\", \"attr allElements :\"+ mapR3[\"allElements\"],\"$VarG_c_logFileName\")\n\n\/\/ Controle\nif ( (mapR[\"count\"] != mapR2 [\"count\"]) || (mapR[\"count\"] != mapR3 [\"count\"])){\n\tlogger(\"ERROR\", \"les String Array des clé, parametres et arrtibuts ne comportes pas le même nb d'elements. \",\"$VarG_c_logFileName\")\n\tSystem.exit(1)\n}\n\n\n\n\n\/\/ Substitution des valeurs ds VarSub : $VarSubFile\nlogger(\"INFO\",\"Substitution des valeurs ds VarSub : $VarSubFile\",\"$VarG_c_logFileName\")\ndef Boolean failWithoutMatch=false\ndef Boolean report=false\ndef Boolean expandEntityReferences=false\n\ndef Boolean omitHeader=false\n\ndef ant = new AntBuilder()\n\n\nant.taskdef(name:'xmltask', classname:'com.oopsconsultancy.xmltask.ant.XmlTask')\ntry {\n\tant.xmltask(expandEntityReferences:expandEntityReferences,\n\t\t\treport:report,\n\t\t\tfailWithoutMatch:failWithoutMatch,\n\t\t\tomitHeader:omitHeader,\n\t\t\tstandalone:'false',\n\t\t\tdest:VarSubFile,source:VarSubFile ) {\n\t\t\t\n\t\t\t\n\t\t\tfor (i=0;i < mapR[\"count\"]; i++) {\n\t\t\t\tdef String key=Var_EAI_PARAM_KEYS[i].trim()\n\t\t\t\tdef String param=Var_EAI_PARAMS[i].trim()\n\t\t\t\tdef String attr_val=Var_EAI_ATTRIBUTS[i].trim()\n\t\t\t\tlogger(\"DEBUG\",\"[update_attr] path:\/descendant::VarSubAsset[attribute::assetName=\\\"$key\\\"]\/descendant::attribute[@name=\\\"$param\\\"\tattr:value\tvalue:$attr_val]\" ,\"$VarG_c_logFileName\")\n\t\t\t\tattr(path:\"\/\/*[local-name()='VarSubAsset'][attribute::assetName=\\\"$key\\\"]\/\/*[local-name()='attribute'][@name=\\\"$param\\\"]\".trim(), attr: \"value\", value:attr_val)\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n}\ncatch (Exception e) {\n\tlogger(\"ERROR\", \"Substitution des valeurs ds VarSub\" ,\"$VarG_c_logFileName\")\n\tlogger(\"ERROR\", e.getMessage(),\"$VarG_c_logFileName\")\n\te.printStackTrace()\n\tSystem.exit 1\n}\nlogger(\"INFO\",\"Substitution des valeurs ds VarSub : terminee\",\"$VarG_c_logFileName\")\n"
                                },
                                "type": "plugin",
                                "name": "Recuperation des Parametres et Substition dans Varsub",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": true,
                                "impersonationUsername": "${p:SBM_Login}",
                                "impersonationGroup": "",
                                "showHidden": false,
                                "impersonationPassword": "${p:SBM_Password}",
                                "impersonationUseSudo": true,
                                "impersonationUseSsh": false,
                                "commandName": "Run Groovy Advance Script",
                                "pluginName": "GroovyAdvance",
                                "pluginVersion": 2,
                                "properties": {
                                    "externalLibJARList": "",
                                    "externalDirList": "",
                                    "scriptBody": "\/\/import Groovy CommunLib\n${p:component\/GroovyLib-Logger}\n${p:component\/GroovyLib-xPath}\n${p:component\/GroovyLib-wsSOAP}\n\nfinal def String Cst_EAIV8_OutBound_Directory=\"${p:InitStep\/Var_EAIV8_OutBound_Directory}\"\nfinal def String VarG_EAI_VsFile=\"${p:setVarBuild\/Var_EAI_VsFile}\"\nfinal def String VarG_c_logFileName=\"${p:InitStep\/Var_c_logFileName}\"\nfinal def String VarG_EAI_Tmp_Directory=\"${p:InitStep\/Var_EAI_Tmp_Directory}\"\nfinal def String Sbm_Is_Deployer=\"${p:InitStep\/Var_IS_Deployer}\"\nfinal def String Sbm_EAI_IS=\"${p:InitStep\/Var_EAI_IS}\"\n\nfinal def String Sbm_EAI_Deployer_Login=\"${p:InitStep\/Var_EAI_Deployer_Login}\"\nfinal def String Sbm_EAI_Deployer_Password=\"${p:InitStep\/Var_EAI_Deployer_Password}\"\nfinal def String Sbm_EAI_Deployer_Realm=\"${p:InitStep\/Var_EAI_Deployer_Realm}\"\nfinal def String Sbm_EAI_Deployer_Domaine=\"${p:InitStep\/Var_EAI_Deployer_Domaine}\"\n\n\n\n\t\t\t   \n\/\/Prepare et configuration de SOAP Request\nlogger(\"INFO\",\"Prepare SOAP Request\" ,\"$VarG_c_logFileName\")\ndef Map input=[:]\ninput[\"endPoint\"]=\"http:\/\/${p:InitStep\/Var_IS_Deployer}:${p:InitStep\/Var_EAI_IS}\/ws\/GniToolsDeployer.targetAlias:ws_getBindAddressFromAlias\"\ninput[\"userName\"]=\"${p:InitStep\/Var_EAI_Deployer_Login}\"\ninput[\"password\"]=\"${p:InitStep\/Var_EAI_Deployer_Password}\"\ninput[\"connectionTimeout\"]=\"0\"\ninput[\"readTimeout\"]=\"0\"\ninput[\"requestFilename\"]=\"${VarG_EAI_Tmp_Directory}\/ws_bindaddress\"\ninput[\"responseFilename\"]=\"${VarG_EAI_Tmp_Directory}\/ws_bindaddress_response\"\ninput[\"requestString\"]=\"\"\n\n\n\/\/ recuperation des targets alias via une recherche XPATH dans le fichier VarSub\n\/\/ => return VarL_EAI_TARGET_ALIAS (String [])\nlogger(\"INFO\",\"recuperation des targets alias dans ${Cst_EAIV8_OutBound_Directory}\/${VarG_EAI_VsFile}\",\"$VarG_c_logFileName\")\ndef String[] VarL_EAI_TARGET_ALIAS\ndef Map map=xpath_execute(\"\/\/*[local-name()='DeploymentSet']\/attribute::targetAlias\",\"${Cst_EAIV8_OutBound_Directory}\/${VarG_EAI_VsFile}\")\nif (map[\"errorMessage\"] != \"\"){\n\tlogger(\"ERROR\",map[\"errorMessage\"],\"$VarG_c_logFileName\")\n\tSystem.exit(1)\n}\n\/\/ Controle Existence de target alias\nif (map[\"count\"] == 0){\n\tlogger(\"ERROR\",\"Aucun target alias n'a ete trouve dans le fichier VarSub\",\"$VarG_c_logFileName\")\n\tSystem.exit(1)\n}\n\nVarL_EAI_TARGET_ALIAS=map[\"allElements\"]\nlogger(\"DEBUG\",\"Liste TARGET_ALIAS:\",\"$VarG_c_logFileName\")\nVarL_EAI_TARGET_ALIAS.each {\n\tlogger(\"DEBUG\",\"--> \"+it,\"$VarG_c_logFileName\")\n}\n\n\n\/\/ Loop sur chaque target_alias\nVarL_EAI_TARGET_ALIAS.each{ it->\n\tdef String VarG_EAI_Str_Target_alias=it.trim()\n   \n\t\/\/Mise a jour du fichier ${VarG_EAI_Tmp_Directory}\/ws_bindaddress via un update_xpath\n\tlogger(\"INFO\",\"Mise a jour du fichier ${VarG_EAI_Tmp_Directory}\/ws_bindaddress via un update_xpath\",\"$VarG_c_logFileName\")\n\t\n\t\/\/Replace Text $VarG_EAI_Str_Target_alias inside XML over XPATH_REPLACE (mode UpdateFirst)\n\tdef ant = new AntBuilder()\n\tdef String query_xpath=\"\/\/*[local-name()='targetAlias']\/text()\"\n\tdef String replaceStr=\"${VarG_EAI_Str_Target_alias}\".trim()\n\tdef Boolean omitHeader=true\n\tant.taskdef(name:'xmltask', classname:'com.oopsconsultancy.xmltask.ant.XmlTask')\n\ttry {\n\t\tant.xmltask(expandEntityReferences:'false',\n\t\t\t\treport:'true',\n\t\t\t\tfailWithoutMatch:'false',\n\t\t\t\tomitHeader:omitHeader,\n\t\t\t\tsource:\"${VarG_EAI_Tmp_Directory}\/ws_bindaddress\",\n\t\t\t\tdest:\"${VarG_EAI_Tmp_Directory}\/ws_bindaddress\" ) {\n\t\t\t\tlogger(\"DEBUG\", \"[replace_text] path:\\\"${query_xpath}\\\", withText: \\\"${replaceStr}\\\", expandProperties:'false'\",\"$VarG_c_logFileName\")\t\n\t\t\t\treplace(path:\"${query_xpath}\", withText: \"${replaceStr}\", expandProperties:'false')\n\t\t\t\t}\n\t\t\t\n\t}\n\tcatch (Exception e) {\n\t\tlogger(\"ERROR\",\"Substitution du targetAlias ${VarG_EAI_Str_Target_alias}  ds ${VarG_EAI_Tmp_Directory}\/ws_bindaddress\" ,\"$VarG_c_logFileName\")\n\t\tlogger(\"ERROR\",+e.getMessage(),\"$VarG_c_logFileName\")\n\t\te.printStackTrace()\n\t\tSystem.exit(1)\n\t}\n\t\t\t\t\n\n\t\t\t   \n\t\/\/ appel SOAP pour recuperer les bind Adress\n\tlogger(\"INFO\",\"appel SOAP pour recuperer les bind Adress\",\"$VarG_c_logFileName\")\n\ttry{\n\t\tsendSoapRequestWithWSLITE(input)\n\t\tlogger(\"INFO\",\"Call to \"+input[\"endPoint\"]+\" Success...\\n\"+\"response file: \"+input[\"responseFilename\"],\"${VarG_c_logFileName}\")\n\n\t}\n\tcatch(Exception e){\n\t  logger(\"ERROR\",\"Call to \"+input[\"endPoint\"]+\" failed...\\n\"+e.getMessage() ,\"${VarG_c_logFileName}\")\n\t  System.exit(1)\n\t}\n\t\t\t   \n\t\t\t   \n\t\/\/ recuperation des bind adress dans le fichier de reponse\n\tlogger(\"INFO\",\"recuperation des bind adress dans le fichier de reponse\",\"$VarG_c_logFileName\")\n\tdef Map map_ba=xpath_execute(\"\/\/*[local-name()='bindAddress']\/text()\",input[\"responseFilename\"])\n\tif (map_ba[\"errorMessage\"] != \"\"){\n\t\tlogger(\"ERROR\",map_ba[\"errorMessage\"],\"$VarG_c_logFileName\")\n\t\tSystem.exit(1)\n\t}\n\tdef VarL_EAI_Bind_Address=map_ba[\"firstElement\"]\n\tlogger(\"INFO\",\"bind_address:$VarL_EAI_Bind_Address\",\"$VarG_c_logFileName\")\n\t\n\t\/\/ Suppression du fichier de reponse\n\tFile response = new File(input[\"responseFilename\"])\n\tif(response.isFile()){\n\t\tif(!response.delete()){\n\t\t\tlogger(\"ERROR\",\"Impossible de supprimer le fichier \"+input[\"responseFilename\"],\"$VarG_c_logFileName\")\n\t\t\tSystem.exit(1)\n\t\t}\n\t\tlogger(\"INFO\",\"Suppression du fichier\"+input[\"responseFilename\"],\"$VarG_c_logFileName\")\n\t\t\n\t}\n\t\n\t\n   \n\t\/\/Mise a jour XPATH de l'attribut value du node descendant::DeploymentSet[@targetAlias=\"${VarG_EAI_Str_Target_alias}\"]\/descendant::attribute[@name=\"bindAddress\"]\n\t\/\/Replace Attribut value by $VarL_EAI_Bind_Address inside XML over XPATH_ATTR\n\tlogger(\"INFO\",\"Mise a jour de la bind address:${VarL_EAI_Bind_Address} dans ${Cst_EAIV8_OutBound_Directory}\/${VarG_EAI_VsFile}\",\"$VarG_c_logFileName\")\n\tant = new AntBuilder()\n\t\/\/                  descendant::DeploymentSet[@targetAlias=\"${VarG_EAI_Str_Target_alias}\"]\/descendant::attribute[@name=\"bindAddress\"]\n\tquery_xpath=\"\/\/*[local-name()='DeploymentSet'][@targetAlias='${VarG_EAI_Str_Target_alias}']\/\/*[local-name()='attribute'][@name='bindAddress']\"\n\tdef String Attribut_name=\"value\"\n\tdef String Attribut_newvalue=\"${VarL_EAI_Bind_Address}\"\n\tant.taskdef(name:'xmltask', classname:'com.oopsconsultancy.xmltask.ant.XmlTask')\n\ttry {\n\t\tant.xmltask(expandEntityReferences:'false',\n\t\t\t\treport:'true',\n\t\t\t\tfailWithoutMatch:'false',\n\t\t\t\tomitHeader:'true',\n\t\t\t\tsource:\"${Cst_EAIV8_OutBound_Directory}\/${VarG_EAI_VsFile}\",\n\t\t\t\tdest:\"${Cst_EAIV8_OutBound_Directory}\/${VarG_EAI_VsFile}\" ) {\n\t\t\t\tlogger(\"DEBUG\",\"[update_attr] path:\\\"${query_xpath}\\\", attr: \\\"${Attribut_name}\\\", value:\\\"${Attribut_newvalue}\\\"\"\t,\"$VarG_c_logFileName\")\n\t\t\t\tattr(path:\"${query_xpath}\", attr: \"${Attribut_name}\", value:\"${Attribut_newvalue}\")\n\t\t\t\t}\n\t\t\t\n\t\t\t\n\t}\n\tcatch (Exception e) {\n\t\tlogger(\"ERROR\",\"Substitution de l'attribut value par  ${VarG_EAI_Str_Target_alias}  ds ${VarG_EAI_Tmp_Directory}\/ws_bindaddress\" ,\"$VarG_c_logFileName\")\n\t\tlogger(\"ERROR\",+e.getMessage(),\"$VarG_c_logFileName\")\n\t\te.printStackTrace()\n\t\tSystem.exit(1)\n\t}\n\t\n\t\n\n}\/\/End loop"
                                },
                                "type": "plugin",
                                "name": "MAJ_BindAdress_In_VarSub",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": true,
                                "impersonationUsername": "${p:SBM_Login}",
                                "impersonationGroup": "",
                                "showHidden": false,
                                "impersonationPassword": "${p:SBM_Password}",
                                "impersonationUseSudo": true,
                                "impersonationUseSsh": false,
                                "commandName": "Shell",
                                "pluginName": "Shell",
                                "pluginVersion": 4,
                                "properties": {
                                    "directoryOffset": ".",
                                    "shellInterpreter": "bash",
                                    "scriptBody": "VarG_EAI_Tmp_Directory=\"${p:InitStep\/Var_EAI_Tmp_Directory}\"\nVarG_c_logFileName=\"${p:InitStep\/Var_c_logFileName}\"\nCst_EAIV8_Root_Directory=\"${p:InitStep\/Var_EAIV8_Root_Directory}\"\nCst_EAIV8_ConfigFile=\"${p:InitStep\/Var_EAIV8_ConfigFile}\"\nCst_EAIV8_InBound_Directory=\"${p:InitStep\/Var_EAIV8_InBound_Directory}\"\nCst_EAIV8_OutBound_Directory=\"${p:InitStep\/Var_EAIV8_OutBound_Directory}\"\nCst_EAIV8_Deployer_Directory=\"${p:InitStep\/Var_EAIV8_Deployer_Directory}\"\nCst_EAI_Map=\"${p:InitStep\/Var_EAIV8_Map}\"\nSbm_EAI_IS=\"${p:InitStep\/Var_EAI_IS}\"\nCst_EAI_DC=\"${p:InitStep\/Var_EAI_DC}\"\nVarG_EAI_Project=\"${p:setVarBuild\/Var_EAI_Project}\"\nVarG_EAI_Build=\"${p:setVarBuild\/Var_EAI_Build}\"\nVarG_EAI_Version=\"${p:setVarBuild\/Var_EAI_Version}\"\nVarG_EAI_VsFile=\"${p:setVarBuild\/Var_EAI_VsFile}\"\n\n# Recopie de ${Cst_EAIV8_OutBound_Directory}\/${VarG_EAI_VsFile} ds ${Cst_EAIV8_InBound_Directory}\necho \"cmd:cp -f ${Cst_EAIV8_OutBound_Directory}\/${VarG_EAI_VsFile} ${Cst_EAIV8_InBound_Directory}\" 2>&1 | tee ${VarG_c_logFileName} \nVar_Cmd_Out=$(cp -f ${Cst_EAIV8_OutBound_Directory}\/${VarG_EAI_VsFile} ${Cst_EAIV8_InBound_Directory} 2>&1)\nstatus=$?\necho \"$Var_Cmd_Out\" | tee -a ${VarG_c_logFileName}\nif [ $status -ne 0 ];then\n   echo \"`date '+%Y%m%d-%H%M%S'`: [ERROR] Impossible de copier le Varsub dans ${Cst_EAIV8_InBound_Directory}\/${VarG_EAI_VsFile}\" 2>&1 | tee ${VarG_c_logFileName} \n   exit 1\n\nfi\n\n   \n# Import du varsub\ncd ${Cst_EAIV8_Deployer_Directory}\necho \"cmd:.\/Deployer.sh --import -varsub -vsFile ${VarG_EAI_VsFile} -map  ${Cst_EAI_Map} -project ${VarG_EAI_Project}  -configfile $Cst_EAIV8_ConfigFile \" 2>&1 | tee ${VarG_c_logFileName} \nVar_Cmd_Out=$(.\/Deployer.sh --import -varsub -vsFile ${VarG_EAI_VsFile} -map  ${Cst_EAI_Map} -project ${VarG_EAI_Project}  -configfile $Cst_EAIV8_ConfigFile  2>&1)\nstatus=$?\necho \"$Var_Cmd_Out\" | tee -a ${VarG_c_logFileName}\nif [ $status -ne 0 ]; then\n   echo \"`date '+%Y%m%d-%H%M%S'`: [ERROR] Erreur dans l'execution de la commande .\/Deployer.sh --import -varsub -vsFile ${VarG_EAI_VsFile} -map  ${Cst_EAI_Map} -project ${VarG_EAI_Project}  -configfile $Cst_EAIV8_ConfigFile \"  2>&1 | tee ${VarG_c_logFileName} \n   exit 1\nfi\n\necho \"`date '+%Y%m%d-%H%M%S'`: [INFO] Succes de l'execution de la commande .\/Deployer.sh --import -varsub -vsFile ${VarG_EAI_VsFile} -map  ${Cst_EAI_Map} -project ${VarG_EAI_Project}  -configfile $Cst_EAIV8_ConfigFile \"  2>&1 | tee ${VarG_c_logFileName} \n\n\n\n# Export d'un fichier VarSub\nif [ -f \"${Cst_EAIV8_OutBound_Directory}\/${VarG_EAI_VsFile}\" ]; then rm -f \"${Cst_EAIV8_OutBound_Directory}\/${VarG_EAI_VsFile}\" ; fi\ncd ${Cst_EAIV8_Deployer_Directory}\necho \"cmd:.\/Deployer.sh --export -varsub -map  ${Cst_EAI_Map} -project ${VarG_EAI_Project}  -configfile $Cst_EAIV8_ConfigFile\" 2>&1 | tee ${VarG_c_logFileName} \n\nVar_Cmd_Out=$(.\/Deployer.sh --export -varsub -map  ${Cst_EAI_Map} -project ${VarG_EAI_Project}  -configfile $Cst_EAIV8_ConfigFile  2>&1)\nstatus=$?\necho \"$Var_Cmd_Out\" | tee -a ${VarG_c_logFileName}\nif [ $status -ne 0 ]; then\n  echo \"`date '+%Y%m%d-%H%M%S'`: [ERROR]  Erreur dans l'execution de la commande .\/Deployer.sh  --export -varsub -map  ${Cst_EAI_Map} -project ${VarG_EAI_Project}  -configfile $Cst_EAIV8_ConfigFile \"  2>&1 | tee ${VarG_c_logFileName}  \n\texit 1\nelse\n   # coipe temporaire de l'original dans VarG_EAI_Tmp_Directory\n   cp -f ${Cst_EAIV8_OutBound_Directory}\/${VarG_EAI_VsFile} ${VarG_EAI_Tmp_Directory}\/${VarG_EAI_VsFile}-new\n\n   # comparaison varsubORI avec le nouveau\n   echo \"diff ${VarG_EAI_Tmp_Directory}\/${VarG_EAI_VsFile}-new ${VarG_EAI_Tmp_Directory}\/${VarG_EAI_VsFile}-ori\"\n   diff ${VarG_EAI_Tmp_Directory}\/${VarG_EAI_VsFile}-new ${VarG_EAI_Tmp_Directory}\/${VarG_EAI_VsFile}-ori\nfi\n\nexit 0",
                                    "runAsDaemon": "false",
                                    "outputFile": ""
                                },
                                "type": "plugin",
                                "name": "Import_varSub",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": true,
                                "impersonationUsername": "${p:SBM_Login}",
                                "impersonationGroup": "",
                                "showHidden": false,
                                "impersonationPassword": "${p:SBM_Password}",
                                "impersonationUseSudo": true,
                                "impersonationUseSsh": false,
                                "commandName": "Shell",
                                "pluginName": "Shell",
                                "pluginVersion": 4,
                                "properties": {
                                    "directoryOffset": ".",
                                    "shellInterpreter": "bash",
                                    "scriptBody": "VarG_EAI_Tmp_Directory=\"${p:InitStep\/Var_EAI_Tmp_Directory}\"\nVarG_c_logFileName=\"${p:InitStep\/Var_c_logFileName}\"\nCst_EAIV8_Root_Directory=\"${p:InitStep\/Var_EAIV8_Root_Directory}\"\nCst_EAIV8_ConfigFile=\"${p:InitStep\/Var_EAIV8_ConfigFile}\"\nCst_EAIV8_InBound_Directory=\"${p:InitStep\/Var_EAIV8_InBound_Directory}\"\nCst_EAIV8_OutBound_Directory=\"${p:InitStep\/Var_EAIV8_OutBound_Directory}\"\nCst_EAIV8_Deployer_Directory=\"${p:InitStep\/Var_EAIV8_Deployer_Directory}\"\nSbm_EAI_IS=\"${p:InitStep\/Var_EAI_IS}\"\nCst_EAI_DC=\"${p:InitStep\/Var_EAI_DC}\"\nVarG_EAI_Project=\"${p:setVarBuild\/Var_EAI_Project}\"\nVarG_EAI_Build=\"${p:setVarBuild\/Var_EAI_Build}\"\nVarG_EAI_Version=\"${p:setVarBuild\/Var_EAI_Version}\"\nVarG_EAI_VsFile=\"${p:setVarBuild\/Var_EAI_VsFile}\"\n\n# rq: Var_EAI_Build n'ets pas utilisé ???? : Norme Generali pour le nom du build = mybuilt à ne pas confordre avec EAI_Built qui contient le basename du build generé\n\ncd ${Cst_EAIV8_Deployer_Directory}\necho \"cmd:.\/Deployer.sh --create -dc ${Cst_EAI_DC}   -build myBuild -map  ${Cst_EAI_Map} -project ${VarG_EAI_Project}  -configfile $Cst_EAIV8_ConfigFile\" 2>&1 | tee -a ${VarG_c_logFileName} \n\nVar_Cmd_Out=$(.\/Deployer.sh --create -dc ${Cst_EAI_DC}   -build myBuild -map  ${Cst_EAI_Map} -project ${VarG_EAI_Project}  -configfile $Cst_EAIV8_ConfigFile  2>&1)  \nstatus=$?\necho \"$Var_Cmd_Out\" | tee -a ${VarG_c_logFileName}\nif [ $status -eq 1 ]; then\n\techo \"`date +%Y%m%d-%H%M%S`: [ERROR] Erreur dans l'execution de la commande .\/Deployer.sh --create -dc ${Cst_EAI_DC} (...)\" | tee -a ${VarG_c_logFileName}\n\texit 1\nelse\n\tif [ $status -eq 4 ]; then\n\t\techo \"`date +%Y%m%d-%H%M%S`: [WARN] Erreur dans l'execution de la commande .\/Deployer.sh --create -dc ${Cst_EAI_DC} (...)\" | tee -a ${VarG_c_logFileName}\n\telse\n\t\techo \"`date +%Y%m%d-%H%M%S`: [INFO] Succes de l'execution de la commande .\/Deployer.sh --create -dc ${Cst_EAI_DC} (...)\" | tee -a  ${VarG_c_logFileName}\n\tfi\nfi\n",
                                    "runAsDaemon": "false",
                                    "outputFile": ""
                                },
                                "type": "plugin",
                                "name": "Creation_DC",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": true,
                                "impersonationUsername": "${p:SBM_Login}",
                                "impersonationGroup": "",
                                "showHidden": false,
                                "impersonationPassword": "${p:SBM_Password}",
                                "impersonationUseSudo": true,
                                "impersonationUseSsh": false,
                                "commandName": "Shell",
                                "pluginName": "Shell",
                                "pluginVersion": 4,
                                "properties": {
                                    "directoryOffset": ".",
                                    "shellInterpreter": "bash",
                                    "scriptBody": "VarG_EAI_Tmp_Directory=\"${p:InitStep\/Var_EAI_Tmp_Directory}\"\nVarG_c_logFileName=\"${p:InitStep\/Var_c_logFileName}\"\nCst_EAIV8_Root_Directory=\"${p:InitStep\/Var_EAIV8_Root_Directory}\"\nCst_EAIV8_ConfigFile=\"${p:InitStep\/Var_EAIV8_ConfigFile}\"\nCst_EAIV8_InBound_Directory=\"${p:InitStep\/Var_EAIV8_InBound_Directory}\"\nCst_EAIV8_OutBound_Directory=\"${p:InitStep\/Var_EAIV8_OutBound_Directory}\"\nCst_EAIV8_Deployer_Directory=\"${p:InitStep\/Var_EAIV8_Deployer_Directory}\"\nSbm_EAI_IS=\"${p:InitStep\/Var_EAI_IS}\"\nCst_EAI_DC=\"${p:InitStep\/Var_EAI_DC}\"\nVarG_EAI_Project=\"${p:setVarBuild\/Var_EAI_Project}\"\nVarG_EAI_Build=\"${p:setVarBuild\/Var_EAI_Build}\"\nVarG_EAI_Version=\"${p:setVarBuild\/Var_EAI_Version}\"\nVarG_EAI_VsFile=\"${p:setVarBuild\/Var_EAI_VsFile}\"\n\n# Execution de la simulation\necho \"`date '+%Y%m%d-%H%M%S'`:  [INFO] Debut de la simulation webMethods\" 2>&1 | tee -a ${VarG_c_logFileName} \ncd ${Cst_EAIV8_Deployer_Directory}\necho \"cmd:.\/Deployer.sh -configfile $Cst_EAIV8_ConfigFile   --simulate -project ${VarG_EAI_Project}   -dc  ${Cst_EAI_DC}\" 2>&1 | tee -a ${VarG_c_logFileName} \nVar_Cmd_Out=$(.\/Deployer.sh -configfile $Cst_EAIV8_ConfigFile   --simulate -project ${VarG_EAI_Project}   -dc  ${Cst_EAI_DC}    2>&1) \nstatus=$?\necho \"$Var_Cmd_Out\" | tee -a ${VarG_c_logFileName}\necho \"`date +%Y%m%d-%H%M%S`: [INFO] .\/Deployer.sh (...) code retour commande = <$status>\"  2>&1 | tee -a ${VarG_c_logFileName} \nif [ $status -ne 0 -a $status -ne 4 ]; then\n\techo \"`date +%Y%m%d-%H%M%S`: [ERROR] Erreur dans .\/Deployer.sh --simulate   (...) \"  2>&1 | tee -a ${VarG_c_logFileName} \n\texit 1\nelse\n\tif [ $status -eq 4 ] ; then\n\t\techo \"`date +%Y%m%d-%H%M%S`: [WARN] Simulation reussi avec des Warning\"  2>&1 | tee -a ${VarG_c_logFileName}\n\telse\n\t\techo \"`date +%Y%m%d-%H%M%S`: [INFO] Simulation reussi \"  2>&1 | tee -a ${VarG_c_logFileName}\n\tfi\nfi\n",
                                    "runAsDaemon": "false",
                                    "outputFile": ""
                                },
                                "type": "plugin",
                                "name": "Lancement_Simulation",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": false,
                                "showHidden": false,
                                "impersonationUseSudo": false,
                                "impersonationUseSsh": false,
                                "commandName": "Shell",
                                "pluginName": "Shell",
                                "pluginVersion": 4,
                                "properties": {
                                    "directoryOffset": "bash",
                                    "shellInterpreter": "",
                                    "scriptBody": "\nVarG_EAI_Tmp_Directory=\"${p:InitStep\/Var_EAI_Tmp_Directory}\"\nVarG_c_logFileName=\"${p:InitStep\/Var_c_logFileName}\"\nCst_EAIV8_Root_Directory=\"${p:InitStep\/Var_EAIV8_Root_Directory}\"\nCst_EAIV8_ConfigFile=\"${p:InitStep\/Var_EAIV8_ConfigFile}\"\nCst_EAIV8_InBound_Directory=\"${p:InitStep\/Var_EAIV8_InBound_Directory}\"\nCst_EAIV8_OutBound_Directory=\"${p:InitStep\/Var_EAIV8_OutBound_Directory}\"\nCst_EAIV8_Deployer_Directory=\"${p:InitStep\/Var_EAIV8_Deployer_Directory}\"\nSbm_EAI_IS=\"${p:InitStep\/Var_EAI_IS}\"\n\nVarG_EAI_Project=\"${p:setVarBuild\/Var_EAI_Project}\"\nVarG_EAI_Build=\"${p:setVarBuild\/Var_EAI_Build}\"\nVarG_EAI_Version=\"${p:setVarBuild\/Var_EAI_Version}\"\nVarG_EAI_VsFile=\"${p:setVarBuild\/Var_EAI_VsFile}\"\n\n# Gestion des droits sur le workspace\necho \"cmd:chmod -R 777 ${VarG_EAI_Tmp_Directory}\" 2>&1 | tee -a ${VarG_c_logFileName} \nchmod -R 777 ${VarG_EAI_Tmp_Directory} 2>&1 | tee -a ${VarG_c_logFileName} \nchmod  777 ${VarG_c_logFileName}",
                                    "runAsDaemon": "false",
                                    "outputFile": ""
                                },
                                "type": "plugin",
                                "name": "Preparation_Import_Build",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": false,
                                "showHidden": false,
                                "impersonationUseSudo": false,
                                "impersonationUseSsh": false,
                                "commandName": "Run Groovy Advance Script",
                                "pluginName": "GroovyAdvance",
                                "pluginVersion": 2,
                                "properties": {
                                    "externalLibJARList": "",
                                    "externalDirList": "",
                                    "scriptBody": "\/\/import Groovy CommunLib\n${p:component\/GroovyLib-Logger}\n${p:component\/GroovyLib-xPath}\n${p:component\/GroovyLib-wsSOAP}\n\ndef workspaceDir=\"${p:InitStep\/Var_EAI_Tmp_Directory}\"\n\/\/ Creation du workspace\nlogger(\"INFO\",\"Creation du workspace\",null)\nFile workspace = new File(\"${workspaceDir}\")\nif(workspace.isDirectory()){\n\tlogger(\"INFO\",\"Le repertoire ${workspaceDir} existe deja. Suppresion de ce dernier\",null)\n\tif(!workspace.deleteDir()){\n\t\tlogger(\"ERROR\",\"Impossible de supprimer le repertoire ${workspaceDir}\",null)\n\t\tSystem.exit(1)\n\t}\n\t\n}\nif (!workspace.mkdirs()) {\n\tlogger(\"ERROR\",\"Impossible de creer le repertoire ${workspaceDir}\",null)\n\tSystem.exit(1)\n}\nelse{\n\tlogger(\"INFO\",\" Creation du repertoire ${workspaceDir}\",null)\n}\nSystem.exit(0)"
                                },
                                "type": "plugin",
                                "name": "Create_WorkSpace",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": false,
                                "showHidden": false,
                                "impersonationUseSudo": false,
                                "impersonationUseSsh": false,
                                "commandName": "Run Groovy Advance Script",
                                "pluginName": "GroovyAdvance",
                                "pluginVersion": 2,
                                "properties": {
                                    "externalLibJARList": "",
                                    "externalDirList": "",
                                    "scriptBody": "\/\/import Groovy CommunLib\n${p:component\/GroovyLib-Logger}\n${p:component\/GroovyLib-xPath}\n${p:component\/GroovyLib-wsSOAP}\n\nlogger(\"INFO\",\"Prepare SOAP Request\" ,\"${p:InitStep\/Var_c_logFileName}\")\n\ndef Map input=[:]\ninput[\"endPoint\"]=\"http:\/\/${p:InitStep\/Var_IS_Deployer}:${p:InitStep\/Var_EAI_IS}\/ws\/GniToolsDeployer.map:ws_createMapForProject\/\/GniToolsDeployer_map_ws_createMapForProject_Port\"\ninput[\"userName\"]=\"${p:InitStep\/Var_EAI_Deployer_Login}\"\ninput[\"password\"]=\"${p:InitStep\/Var_EAI_Deployer_Password}\"\ninput[\"connectionTimeout\"]=\"0\"\ninput[\"readTimeout\"]=\"0\"\ninput[\"requestFilename\"]=\"${p:InitStep\/Var_EAI_Tmp_Directory}\/ws_soap\"\ninput[\"responseFilename\"]=\"${p:InitStep\/Var_EAI_Tmp_Directory}\/ws_response\"\ninput[\"requestString\"]=\"\"\ntry{\n\tsendSoapRequestWithWSLITE(input) \n\tlogger(\"INFO\",\"Call to http:\/\/${p:InitStep\/Var_IS_Deployer}:${p:InitStep\/Var_EAI_IS}\/ws\/GniToolsDeployer.map:ws_createMapForProject Success...\\n\"+\"response file: ${p:InitStep\/Var_EAI_Tmp_Directory}\/ws_response\",\"${p:InitStep\/Var_c_logFileName}\")\n\n}\ncatch(Exception e){\n  logger(\"ERROR\",\"Call to http:\/\/${p:InitStep\/Var_IS_Deployer}:${p:InitStep\/Var_EAI_IS}\/ws\/GniToolsDeployer.map:ws_createMapForProject failed...\\n\"+e.getMessage() ,\"${p:InitStep\/Var_c_logFileName}\")\n  logger(\"ERROR\",\"Erreur dans l'appel du WebService http:\/\/${p:InitStep\/Var_IS_Deployer}:${p:InitStep\/Var_EAI_IS}\/ws\/GniToolsDeployer.map:ws_createMapForProject.Verifiez que également le fichier ${p:InitStep\/Var_EAI_Tmp_Directory}\/ws_soap\",\"${p:InitStep\/Var_c_logFileName}\")\n  System.exit(1)\n}\n"
                                },
                                "type": "plugin",
                                "name": "Creation_MAP_Via_WSSOAP",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": false,
                                "showHidden": false,
                                "impersonationUseSudo": false,
                                "impersonationUseSsh": false,
                                "commandName": "Run Groovy Advance Script",
                                "pluginName": "GroovyAdvance",
                                "pluginVersion": 2,
                                "properties": {
                                    "externalLibJARList": "",
                                    "externalDirList": "",
                                    "scriptBody": "\/\/import Groovy CommunLib\n${p:component\/GroovyLib-Logger}\n${p:component\/GroovyLib-xPath}\n${p:component\/GroovyLib-wsSOAP}\n\ndef query=\"\/descendant::projectName\/text()\"\ndef text=\"${p:setVarBuild\/Var_EAI_Project}\"\n\ndef VarSubFile=\"${p:InitStep\/Var_EAI_Tmp_Directory}\/ws_soap\"\ndef String VarG_c_logFileName=\"${p:InitStep\/Var_c_logFileName}\"\n\n\/\/ Substitution du nom du Project ds ws_soap : \nlogger(\"INFO\",\"Substitution du nom du Project ${p:setVarBuild\/Var_EAI_Project} ds : ${VarSubFile}\",\"$VarG_c_logFileName\")\ndef Boolean failWithoutMatch=false\ndef Boolean report=false\ndef Boolean expandEntityReferences=false\ndef Boolean omitHeader=true\n\ndef ant = new AntBuilder()\n\n\nant.taskdef(name:'xmltask', classname:'com.oopsconsultancy.xmltask.ant.XmlTask')\ntry {\n\tant.xmltask(expandEntityReferences:expandEntityReferences,\n\t\t\treport:report,\n\t\t\tfailWithoutMatch:failWithoutMatch,\n\t\t\tomitHeader:omitHeader,\n\t\t\tdest:VarSubFile,source:VarSubFile ) \n\t\t\t{\n\t\t\t\n\t\t\t\n\t\t\treplace(path:\"${query}\".trim(), withXml:\"${text}\".trim())\n\t\t\t\n\t\t\t\n\t\t\t}\n\t\t\n}\ncatch (Exception e) {\n\tlogger(\"ERROR\", \"Substitution Failed\" ,\"$VarG_c_logFileName\")\n\tlogger(\"ERROR\", e.getMessage(),\"$VarG_c_logFileName\")\n\te.printStackTrace()\n\tSystem.exit 1\n}\nlogger(\"INFO\",\"Substitution  : terminee\",\"$VarG_c_logFileName\")"
                                },
                                "type": "plugin",
                                "name": "Force_ProjectName_dans_WsSoap",
                                "children": []
                            },
                            {
                                "sleepTime": "1",
                                "type": "processSleep",
                                "name": "30754e66463ea9a2544c3aa882107c",
                                "children": []
                            },
                            {
                                "sleepTime": "1",
                                "type": "processSleep",
                                "name": "0e9fe4c8ba4feff7ee5003d1a9d73a",
                                "children": []
                            }
                        ]
                    }
                }
            ],
            "taskDefs": [],
            "configTemplates": []
        },
        {
            "entityType": "Component",
            "name": "SBM_LOGS",
            "created": 1395933002869,
            "importAutomatically": false,
            "useVfs": true,
            "active": true,
            "deleted": false,
            "defaultVersionType": "FULL",
            "cleanupDaysToKeep": 0,
            "cleanupCountToKeep": 0,
            "envPropDefs": [
                {
                    "name": "Cst_DIM_SSHHost",
                    "label": "Cst_DIM_SSHHost",
                    "type": "TEXT",
                    "value": "lr2te614.groupe.generali.fr",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "Cst_DIM_SSHPort",
                    "label": "Cst_DIM_SSHPort",
                    "type": "TEXT",
                    "value": "22",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "Cst_DIM_SSHUser",
                    "label": "Cst_DIM_SSHUser",
                    "type": "TEXT",
                    "value": "dmsys",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "Cst_DIM_SSHPassword",
                    "label": "Cst_DIM_SSHPassword",
                    "type": "TEXT",
                    "value": "dmsys",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "Cst_DIM_SSHPrivateKey",
                    "label": "Cst_DIM_SSHPrivateKey",
                    "type": "TEXT",
                    "value": "~\/.ssh\/id_rsa",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "Cst_DIM_SSHPassPhrase",
                    "label": "Cst_DIM_SSHPassPhrase",
                    "type": "TEXT",
                    "value": " ",
                    "required": false,
                    "description": ""
                },
                {
                    "name": "Cst_DIM_SSHTrust",
                    "label": "Cst_DIM_SSHTrust",
                    "type": "CHECKBOX",
                    "value": "true",
                    "required": true,
                    "description": ""
                }
            ],
            "versionPropDefs": [],
            "propSheetGroup": {"propSheets": [
                {
                    "name": "code_station",
                    "properties": [{
                        "name": "repository",
                        "value": "83d40597-352b-47f3-b308-715a73c58f93",
                        "description": "",
                        "secure": false
                    }]
                },
                {
                    "name": "template",
                    "properties": []
                },
                {
                    "name": "custom",
                    "properties": [
                        {
                            "name": "Cst_Agent_Pwd",
                            "value": "deploy",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_Agent_User",
                            "value": "deploy",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_SBM_LogDir",
                            "value": "D:\\\\\\\\products\\\\\\\\LOG_NOLIO\\\\\\\\",
                            "description": "",
                            "secure": false
                        }
                    ]
                }
            ]},
            "processes": [
                {
                    "name": "DOLLARU_LOGS",
                    "description": "",
                    "defaultWorkingDir": "${p:resource\/work.dir}\/${p:component.name}",
                    "takesVersion": false,
                    "status": "",
                    "active": true,
                    "propDefs": [
                        {
                            "name": "SBM_Server",
                            "label": "SBM_Server",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Login",
                            "label": "SBM_Login",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Password",
                            "label": "SBM_Password",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_BaselineId",
                            "label": "SBM_BaselineId",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Nom_Log",
                            "label": "SBM_Nom_Log",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Depot",
                            "label": "SBM_Depot",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        }
                    ],
                    "rootActivity": {
                        "edges": [
                            {
                                "to": "TransfertLog",
                                "type": "ALWAYS",
                                "value": ""
                            },
                            {
                                "to": "70f775e4bd8de0d86b5be902f6f89e",
                                "from": "TransfertLog",
                                "type": "SUCCESS",
                                "value": ""
                            }
                        ],
                        "offsets": [
                            {
                                "name": "70f775e4bd8de0d86b5be902f6f89e",
                                "x": 0,
                                "y": 420
                            },
                            {
                                "name": "TransfertLog",
                                "x": -53,
                                "y": 199
                            }
                        ],
                        "sizes": [
                            {
                                "name": "70f775e4bd8de0d86b5be902f6f89e",
                                "width": 80,
                                "height": 50
                            },
                            {
                                "name": "TransfertLog",
                                "width": 310,
                                "height": 60
                            }
                        ],
                        "type": "graph",
                        "name": "0628afd3-c940-4da2-9816-2febab67c491",
                        "children": [
                            {
                                "type": "finish",
                                "name": "70f775e4bd8de0d86b5be902f6f89e",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": false,
                                "showHidden": false,
                                "impersonationUseSudo": false,
                                "impersonationUseSsh": false,
                                "commandName": "SCP-GetOneFileFromRemoteDirectory",
                                "pluginName": "SCP",
                                "pluginVersion": 1,
                                "properties": {
                                    "sshHost": "${p:SBM_Server}",
                                    "sshPort": "22",
                                    "sshUser": "deploy",
                                    "sshPassword": "pbe{zXLOTZxxrFa5aSRvs1ZpeM1z08Mo0e56}",
                                    "sshKeyfile": "",
                                    "sshPassphrase": "pbe{33qNVNFi5Xh6Ty9RrHSwaalRHQxCHJPd}",
                                    "sshTrust": "true",
                                    "sshKnownhosts": "",
                                    "sshVerbose": "true",
                                    "sshSftp": "false",
                                    "sshPreserveLastModified": "false",
                                    "remoteSrcFile": "${p:SBM_Depot}\/${p:SBM_BaselineId}\/log\/${p:SBM_Nom_Log}",
                                    "localDestFile": "${p:component\/Cst_SBM_LogDir}\\\\${p:SBM_Nom_Log}"
                                },
                                "type": "plugin",
                                "name": "TransfertLog",
                                "children": []
                            }
                        ]
                    }
                },
                {
                    "name": "DSTAGE_LOGS",
                    "description": "",
                    "defaultWorkingDir": "${p:resource\/work.dir}\/${p:component.name}",
                    "takesVersion": false,
                    "status": "",
                    "active": true,
                    "propDefs": [{
                        "name": "SBM_Nom_Log",
                        "label": "SBM_Nom_Log",
                        "type": "TEXT",
                        "required": true,
                        "description": ""
                    }],
                    "rootActivity": {
                        "edges": [
                            {
                                "to": "b196e0505dba33b0dfe3ae2dbfea8c",
                                "from": "Log Transfert Unix to LogNolio",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "Log Transfert Unix to LogNolio",
                                "type": "ALWAYS",
                                "value": ""
                            }
                        ],
                        "offsets": [
                            {
                                "name": "b196e0505dba33b0dfe3ae2dbfea8c",
                                "x": 0,
                                "y": 430
                            },
                            {
                                "name": "Log Transfert Unix to LogNolio",
                                "x": -120,
                                "y": 180
                            }
                        ],
                        "sizes": [
                            {
                                "name": "b196e0505dba33b0dfe3ae2dbfea8c",
                                "width": 80,
                                "height": 50
                            },
                            {
                                "name": "Log Transfert Unix to LogNolio",
                                "width": 310,
                                "height": 60
                            }
                        ],
                        "type": "graph",
                        "name": "df37a9df-de81-476f-94ff-9032b00a49c9",
                        "children": [
                            {
                                "type": "finish",
                                "name": "b196e0505dba33b0dfe3ae2dbfea8c",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": false,
                                "showHidden": false,
                                "impersonationUseSudo": false,
                                "impersonationUseSsh": false,
                                "commandName": "SCP-GetOneFileFromRemoteDirectory",
                                "pluginName": "SCP",
                                "pluginVersion": 1,
                                "properties": {
                                    "sshHost": "${p:environment\/Cst_DIM_SSHHost}",
                                    "sshPort": "${p:environment\/Cst_DIM_SSHPort}",
                                    "sshUser": "${p:component\/Cst_Agent_User}",
                                    "sshPassword": "pbe{DktzdNFj7HDmUPFoZ3aYZQOHtslU49U5MTeXYZLYXzeI+7IeAWAzECWLWNluYlXu}",
                                    "sshKeyfile": "",
                                    "sshPassphrase": "pbe{mXBedfZ37GBCXUB28FLFcVvzCD3U2cET}",
                                    "sshTrust": "true",
                                    "sshKnownhosts": "",
                                    "sshVerbose": "false",
                                    "sshSftp": "false",
                                    "sshPreserveLastModified": "false",
                                    "remoteSrcFile": "\/tmp\/${p:SBM_Nom_Log}",
                                    "localDestFile": "${p:component\/Cst_SBM_LogDir}\\\\${p:SBM_Nom_Log}"
                                },
                                "type": "plugin",
                                "name": "Log Transfert Unix to LogNolio",
                                "children": []
                            }
                        ]
                    }
                },
                {
                    "name": "DSTAGE_LOGS_BCK",
                    "description": "",
                    "defaultWorkingDir": "${p:resource\/work.dir}\/${p:component.name}",
                    "takesVersion": false,
                    "status": "",
                    "active": true,
                    "propDefs": [{
                        "name": "SBM_BckPackage",
                        "label": "SBM_BckPackage",
                        "type": "TEXT",
                        "required": true,
                        "description": ""
                    }],
                    "rootActivity": {
                        "edges": [
                            {
                                "to": "Transfert BCK to LogNolio",
                                "type": "ALWAYS",
                                "value": ""
                            },
                            {
                                "to": "b196e0505dba33b0dfe3ae2dbfea8c",
                                "from": "Transfert BCK to LogNolio",
                                "type": "SUCCESS",
                                "value": ""
                            }
                        ],
                        "offsets": [
                            {
                                "name": "b196e0505dba33b0dfe3ae2dbfea8c",
                                "x": 0,
                                "y": 430
                            },
                            {
                                "name": "Transfert BCK to LogNolio",
                                "x": -120,
                                "y": 290
                            }
                        ],
                        "sizes": [
                            {
                                "name": "b196e0505dba33b0dfe3ae2dbfea8c",
                                "width": 80,
                                "height": 50
                            },
                            {
                                "name": "Transfert BCK to LogNolio",
                                "width": 310,
                                "height": 60
                            }
                        ],
                        "type": "graph",
                        "name": "e4ed5ecc-18ef-45c2-a057-4ed4390e4580",
                        "children": [
                            {
                                "type": "finish",
                                "name": "b196e0505dba33b0dfe3ae2dbfea8c",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": false,
                                "showHidden": false,
                                "impersonationUseSudo": false,
                                "impersonationUseSsh": false,
                                "commandName": "SCP-GetOneFileFromRemoteDirectory",
                                "pluginName": "SCP",
                                "pluginVersion": 1,
                                "properties": {
                                    "sshHost": "${p:environment\/Cst_DIM_SSHHost}",
                                    "sshPort": "${p:environment\/Cst_DIM_SSHPort}",
                                    "sshUser": "${p:component\/Cst_Agent_User}",
                                    "sshPassword": "pbe{ll7xdepdE0pmZott5V1ET40gjG42nWalvICl\/XLInav0ZDgFaNlpjjcvQVo9Lq8e}",
                                    "sshKeyfile": "",
                                    "sshPassphrase": "pbe{jWDuccFoyWriSEdqdGRRVFRTJxgOq\/DG}",
                                    "sshTrust": "true",
                                    "sshKnownhosts": "",
                                    "sshVerbose": "false",
                                    "sshSftp": "false",
                                    "sshPreserveLastModified": "false",
                                    "remoteSrcFile": "\/tmp\/${p:SBM_BckPackage}.zip",
                                    "localDestFile": "${p:component\/Cst_SBM_LogDir}\\\\${p:SBM_BckPackage}.zip"
                                },
                                "type": "plugin",
                                "name": "Transfert BCK to LogNolio",
                                "children": []
                            }
                        ]
                    }
                },
                {
                    "name": "EAIV8_LOGS",
                    "description": "",
                    "defaultWorkingDir": "${p:resource\/work.dir}\/${p:component.name}",
                    "takesVersion": false,
                    "status": "",
                    "active": true,
                    "propDefs": [
                        {
                            "name": "SBM_Nom_Log",
                            "label": "SBM_Nom_Log",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Login",
                            "label": "SBM_Login",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Server",
                            "label": "SBM_Server",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Password",
                            "label": "SBM_Password",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_BaselineId",
                            "label": "SBM_BaselineId",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "EAI_TempBaseDir",
                            "label": "EAI_TempBaseDir",
                            "type": "TEXT",
                            "value": "\/tmp\/serena",
                            "required": true,
                            "description": ""
                        }
                    ],
                    "rootActivity": {
                        "edges": [
                            {
                                "to": "RemoveLog",
                                "from": "GetLogFile",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "GetReportFromEAIV8",
                                "from": "GetReportName",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "RemoveLog",
                                "from": "GetReportFromEAIV8",
                                "type": "ALWAYS",
                                "value": ""
                            },
                            {
                                "to": "GetReportName",
                                "type": "ALWAYS",
                                "value": ""
                            },
                            {
                                "to": "be1abfb5a8aa5c6399ee624490c78a",
                                "from": "RemoveLog",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "GetLogFile",
                                "type": "ALWAYS",
                                "value": ""
                            }
                        ],
                        "offsets": [
                            {
                                "name": "be1abfb5a8aa5c6399ee624490c78a",
                                "x": 0,
                                "y": 650
                            },
                            {
                                "name": "GetReportFromEAIV8",
                                "x": 150,
                                "y": 360
                            },
                            {
                                "name": "GetLogFile",
                                "x": -370.5,
                                "y": 160
                            },
                            {
                                "name": "RemoveLog",
                                "x": -100,
                                "y": 540
                            },
                            {
                                "name": "GetReportName",
                                "x": 180,
                                "y": 210
                            }
                        ],
                        "sizes": [
                            {
                                "name": "RemoveLog",
                                "width": 280,
                                "height": 60
                            },
                            {
                                "name": "GetLogFile",
                                "width": 310,
                                "height": 60
                            },
                            {
                                "name": "GetReportName",
                                "width": 280,
                                "height": 60
                            },
                            {
                                "name": "GetReportFromEAIV8",
                                "width": 310,
                                "height": 60
                            },
                            {
                                "name": "be1abfb5a8aa5c6399ee624490c78a",
                                "width": 80,
                                "height": 50
                            }
                        ],
                        "type": "graph",
                        "name": "3b4e6773-8a89-4b4a-b838-af057c34eb4a",
                        "children": [
                            {
                                "type": "finish",
                                "name": "be1abfb5a8aa5c6399ee624490c78a",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": false,
                                "showHidden": false,
                                "impersonationUseSudo": false,
                                "impersonationUseSsh": false,
                                "commandName": "SCP-GetOneFileFromRemoteDirectory",
                                "pluginName": "SCP",
                                "pluginVersion": 1,
                                "properties": {
                                    "sshHost": "${p:SBM_Server}",
                                    "sshPort": "22",
                                    "sshUser": "${p:SBM_Login}",
                                    "sshPassword": "pbe{0FJxU8BT3XIDcItuN1taYUarS1CRjKLoZ4fDk+Audshz6dZECIJYyg==}",
                                    "sshKeyfile": "",
                                    "sshPassphrase": "pbe{g2gecNNZ8l6FWUF5p3gKaJP0iqUoi+tv}",
                                    "sshTrust": "true",
                                    "sshKnownhosts": "",
                                    "sshVerbose": "false",
                                    "sshSftp": "false",
                                    "sshPreserveLastModified": "false",
                                    "remoteSrcFile": "${p:EAI_TempBaseDir}\/${p:SBM_Nom_Log}",
                                    "localDestFile": "${p:component\/Cst_SBM_LogDir}\\\\${p:SBM_Nom_Log}"
                                },
                                "type": "plugin",
                                "name": "GetLogFile",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": false,
                                "showHidden": false,
                                "impersonationUseSudo": false,
                                "impersonationUseSsh": false,
                                "postProcessingScript": "a3ce6558-98b7-4202-b3db-76af3558be94",
                                "commandName": "SSH-RemoteCmdLineExecution",
                                "pluginName": "SSH",
                                "pluginVersion": 1,
                                "properties": {
                                    "sshHost": "${p:SBM_Server}",
                                    "sshPort": "22",
                                    "sshUser": "${p:SBM_Login}",
                                    "sshPassword": "pbe{OmsITYVXAVd+T\/lmUGnWVnW8Cx37YXixcm7VamnN0MoTBPPlR3RulA==}",
                                    "sshKeyfile": "",
                                    "sshPassphrase": "pbe{HWGMYnp4h0x9alRI1ElVbaKGaQcAx\/kW}",
                                    "sshTrust": "true",
                                    "sshKnownhosts": "",
                                    "sshTimeout": "0",
                                    "sshUsepty": "false",
                                    "cmdline": "LogFileName=\"${p:EAI_TempBaseDir}\/${p:SBM_Nom_Log}\"\necho \"LogFileName:${LogFileName}\"\n\n#EAI_WEBMETHOD_LOG=$(cat ${LogFileName} | awk '\/Deploy Deployment Candidate\\]\/,\/.xml\/' | grep -v 'Deploy Deployment Candidate' | grep -v 'INFO' | sed -e 's\/^.*:\/\/g' -e 's\/ \/\/g' | awk '{print $0}')\n#if [[ -z $EAI_WEBMETHOD_LOG ]] ; then  \n#\tEAI_WEBMETHOD_LOG=$(cat ${LogFileName} | awk '\/Simulate Deployment Candidate\\]\/,\/.xml\/' | grep -v 'Simulate Deployment Candidate' | grep -v 'INFO' | sed -e 's\/^.*:\/\/g' -e 's\/ \/\/g' | awk '{print $0}')\n#fi\n\nEAI_WEBMETHOD_LOG=$(grep -i '.*report.*.xml' ${LogFileName} | tr -d ' ' )\necho \"EAI_WEBMETHOD_LOG=$EAI_WEBMETHOD_LOG\"",
                                    "sshSuccesReturnCodeStr": "0",
                                    "sshOutput": "",
                                    "sshAppend": "false",
                                    "sshVerbose": "false",
                                    "silenceMode": "false",
                                    "optionStoreOutProp": "false"
                                },
                                "type": "plugin",
                                "name": "GetReportName",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": false,
                                "showHidden": false,
                                "impersonationUseSudo": false,
                                "impersonationUseSsh": false,
                                "commandName": "SCP-GetOneFileFromRemoteDirectory",
                                "pluginName": "SCP",
                                "pluginVersion": 1,
                                "properties": {
                                    "sshHost": "${p:SBM_Server}",
                                    "sshPort": "22",
                                    "sshUser": "${p:SBM_Login}",
                                    "sshPassword": "pbe{\/XDAdgBgAmeuUjJxTFf6aNoeCKvIQIJIYTwBO5GZhtMpHgNa8isP8A==}",
                                    "sshKeyfile": "",
                                    "sshPassphrase": "pbe{fWcbXsxNino5ZZd2Q2fdZBNLjTdua2WU}",
                                    "sshTrust": "true",
                                    "sshKnownhosts": "",
                                    "sshVerbose": "false",
                                    "sshSftp": "false",
                                    "sshPreserveLastModified": "false",
                                    "remoteSrcFile": "${p:GetReportName\/Var_EAI_WEBMETHOD_LOG}",
                                    "localDestFile": "${p:component\/Cst_SBM_LogDir}\\\\${p:SBM_Nom_Log}.html"
                                },
                                "type": "plugin",
                                "name": "GetReportFromEAIV8",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": false,
                                "showHidden": false,
                                "impersonationUseSudo": false,
                                "impersonationUseSsh": false,
                                "commandName": "SSH-RemoteCmdLineExecution",
                                "pluginName": "SSH",
                                "pluginVersion": 1,
                                "properties": {
                                    "sshHost": "${p:SBM_Server}",
                                    "sshPort": "22",
                                    "sshUser": "${p:component\/Cst_Agent_User}",
                                    "sshPassword": "pbe{6Vz8ZehNQVDwdzNWWmmJbwtubPGxOQ2stGbJs9BaqIzTDqSpYmtNPFKOcZIATEAg}",
                                    "sshKeyfile": "",
                                    "sshPassphrase": "pbe{9EqbTzdZ\/2YSUWhTlXn5eJJ31MSePlNO}",
                                    "sshTrust": "true",
                                    "sshKnownhosts": "",
                                    "sshTimeout": "0",
                                    "sshUsepty": "false",
                                    "cmdline": "rm  ${p:EAI_TempBaseDir}\/${p:SBM_Nom_Log} 2>\/dev\/null",
                                    "sshSuccesReturnCodeStr": "0",
                                    "sshOutput": "",
                                    "sshAppend": "false",
                                    "sshVerbose": "false",
                                    "silenceMode": "false",
                                    "optionStoreOutProp": "false"
                                },
                                "type": "plugin",
                                "name": "RemoveLog",
                                "children": []
                            }
                        ]
                    }
                },
                {
                    "name": "JND_LOGS",
                    "description": "",
                    "defaultWorkingDir": "${p:resource\/work.dir}\/${p:component.name}",
                    "takesVersion": false,
                    "status": "",
                    "active": true,
                    "propDefs": [
                        {
                            "name": "SBM_Nom_Log",
                            "label": "SBM_Nom_Log",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Depot",
                            "label": "SBM_Depot",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Login",
                            "label": "SBM_Login",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Server",
                            "label": "SBM_Server",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Projet",
                            "label": "SBM_Projet",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Password",
                            "label": "SBM_Password",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        }
                    ],
                    "rootActivity": {
                        "edges": [
                            {
                                "to": "GetLogsFromJnd",
                                "from": "InitStep",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "2ccdb601284a1b118164565ed7a31e",
                                "from": "GetLogsFromJnd",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "InitStep",
                                "type": "ALWAYS",
                                "value": ""
                            }
                        ],
                        "offsets": [
                            {
                                "name": "GetLogsFromJnd",
                                "x": -97.5,
                                "y": 300
                            },
                            {
                                "name": "InitStep",
                                "x": -71.5,
                                "y": 119
                            },
                            {
                                "name": "2ccdb601284a1b118164565ed7a31e",
                                "x": 0,
                                "y": 445
                            }
                        ],
                        "sizes": [
                            {
                                "name": "2ccdb601284a1b118164565ed7a31e",
                                "width": 80,
                                "height": 50
                            },
                            {
                                "name": "InitStep",
                                "width": 210,
                                "height": 60
                            },
                            {
                                "name": "GetLogsFromJnd",
                                "width": 310,
                                "height": 60
                            }
                        ],
                        "type": "graph",
                        "name": "618f7107-cbc1-41f2-a636-b24b0fe04213",
                        "children": [
                            {
                                "type": "finish",
                                "name": "2ccdb601284a1b118164565ed7a31e",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": false,
                                "showHidden": false,
                                "impersonationUseSudo": false,
                                "impersonationUseSsh": false,
                                "commandName": "SCP-GetOneFileFromRemoteDirectory",
                                "pluginName": "SCP",
                                "pluginVersion": 1,
                                "properties": {
                                    "sshHost": "${p:SBM_Server}",
                                    "sshPort": "22",
                                    "sshUser": "${p:SBM_Login}",
                                    "sshPassword": "pbe{\/Ul0dNlx2mDNbA9QGWZUbYmPkM+Bc25t0I4JZNr05AtZcODHwwgFPA==}",
                                    "sshKeyfile": "",
                                    "sshPassphrase": "pbe{YXUbVLhgwluQUVd5cXCqS+RnRM\/txsu9}",
                                    "sshTrust": "true",
                                    "sshKnownhosts": "",
                                    "sshVerbose": "false",
                                    "sshSftp": "false",
                                    "sshPreserveLastModified": "false",
                                    "remoteSrcFile": "${p:SBM_Depot}\/${p:InitStep\/Nom_Projet}\/log\/${p:SBM_Nom_Log}",
                                    "localDestFile": "${p:component\/Cst_SBM_LogDir}\\\\${p:SBM_Nom_Log}"
                                },
                                "type": "plugin",
                                "name": "GetLogsFromJnd",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": false,
                                "showHidden": false,
                                "impersonationUseSudo": false,
                                "impersonationUseSsh": false,
                                "commandName": "Run Groovy Script",
                                "pluginName": "GroovyAdvance",
                                "pluginVersion": 2,
                                "properties": {"scriptBody": "def myRegEx = \/(.*)-$\/\ndef String tmpSBM_Projet=\"${p:SBM_Projet}\"\nmatcher = ( tmpSBM_Projet =~ myRegEx )\nif (matcher.matches()) {\n\ttmpSBM_Projet=matcher[0][1]\n}\noutProps.setProperty(\"Nom_Projet\",\"${tmpSBM_Projet}\")\n"},
                                "type": "plugin",
                                "name": "InitStep",
                                "children": []
                            }
                        ]
                    }
                },
                {
                    "name": "ORA_LOGS",
                    "description": "",
                    "defaultWorkingDir": "${p:resource\/work.dir}\/${p:component.name}",
                    "takesVersion": false,
                    "status": "",
                    "active": true,
                    "propDefs": [
                        {
                            "name": "SBM_Depot",
                            "label": "SBM_Depot",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Projet",
                            "label": "SBM_Projet",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_BaselineId",
                            "label": "SBM_BaselineId",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Nom_Log",
                            "label": "SBM_Nom_Log",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Server",
                            "label": "SBM_Server",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Login",
                            "label": "SBM_Login",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Password",
                            "label": "SBM_Password",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        }
                    ],
                    "rootActivity": {
                        "edges": [
                            {
                                "to": "Transfert Logs",
                                "type": "ALWAYS",
                                "value": ""
                            },
                            {
                                "to": "cbc388adb1e74e19c3fb646bc720b3",
                                "from": "Transfert Logs",
                                "type": "SUCCESS",
                                "value": ""
                            }
                        ],
                        "offsets": [
                            {
                                "name": "Transfert Logs",
                                "x": -265,
                                "y": 180
                            },
                            {
                                "name": "cbc388adb1e74e19c3fb646bc720b3",
                                "x": 0,
                                "y": 420
                            }
                        ],
                        "sizes": [],
                        "type": "graph",
                        "name": "f8a3d03b-076c-4f7b-ab02-94c064c50866",
                        "children": [
                            {
                                "type": "finish",
                                "name": "cbc388adb1e74e19c3fb646bc720b3",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": false,
                                "showHidden": false,
                                "impersonationUseSudo": false,
                                "impersonationUseSsh": false,
                                "commandName": "SCP-GetOneFileFromRemoteDirectory",
                                "pluginName": "SCP",
                                "pluginVersion": 1,
                                "properties": {
                                    "sshHost": "${p:SBM_Server}",
                                    "sshPort": "22",
                                    "sshUser": "${p:SBM_Login}",
                                    "sshPassword": "pbe{SlK2Wg5kM3YuaN5wNmy1eSnTpeh1BSkp7WfZmq2293zXrYlRpk3rHg==}",
                                    "sshKeyfile": "",
                                    "sshPassphrase": "pbe{j0vYaXhexVeEXH9jhVvdeRGn24\/DD7Dl}",
                                    "sshTrust": "true",
                                    "sshKnownhosts": "",
                                    "sshVerbose": "false",
                                    "sshSftp": "false",
                                    "sshPreserveLastModified": "false",
                                    "remoteSrcFile": "${p:SBM_Depot}\/${p:SBM_Projet}\/${p:SBM_BaselineId}\/log\/${p:SBM_Nom_Log}",
                                    "localDestFile": "${p:component\/Cst_SBM_LogDir}\\\\${p:SBM_Nom_Log}"
                                },
                                "type": "plugin",
                                "name": "Transfert Logs",
                                "children": []
                            }
                        ]
                    }
                },
                {
                    "name": "ORA_LOGS_SQL",
                    "description": "",
                    "defaultWorkingDir": "${p:resource\/work.dir}\/${p:component.name}",
                    "takesVersion": false,
                    "status": "",
                    "active": true,
                    "propDefs": [
                        {
                            "name": "SBM_Depot",
                            "label": "SBM_Depot",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Projet",
                            "label": "SBM_Projet",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_BaselineId",
                            "label": "SBM_BaselineId",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Nom_Log",
                            "label": "SBM_Nom_Log",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Server",
                            "label": "SBM_Server",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Login",
                            "label": "SBM_Login",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Password",
                            "label": "SBM_Password",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        }
                    ],
                    "rootActivity": {
                        "edges": [
                            {
                                "to": "cbc388adb1e74e19c3fb646bc720b3",
                                "from": "Transfert Logs",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "Transfert Logs",
                                "type": "ALWAYS",
                                "value": ""
                            }
                        ],
                        "offsets": [
                            {
                                "name": "cbc388adb1e74e19c3fb646bc720b3",
                                "x": 0,
                                "y": 420
                            },
                            {
                                "name": "Transfert Logs",
                                "x": -265,
                                "y": 180
                            }
                        ],
                        "sizes": [
                            {
                                "name": "cbc388adb1e74e19c3fb646bc720b3",
                                "width": 80,
                                "height": 50
                            },
                            {
                                "name": "Transfert Logs",
                                "width": 310,
                                "height": 60
                            }
                        ],
                        "type": "graph",
                        "name": "db00e652-0e05-4a8e-bdb2-9a539f8a52d2",
                        "children": [
                            {
                                "type": "finish",
                                "name": "cbc388adb1e74e19c3fb646bc720b3",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": false,
                                "showHidden": false,
                                "impersonationUseSudo": false,
                                "impersonationUseSsh": false,
                                "commandName": "SCP-GetOneFileFromRemoteDirectory",
                                "pluginName": "SCP",
                                "pluginVersion": 1,
                                "properties": {
                                    "sshHost": "${p:SBM_Server}",
                                    "sshPort": "22",
                                    "sshUser": "${p:SBM_Login}",
                                    "sshPassword": "pbe{OWaqdEVxRW7GdQ5JuU7vaKQyGOZD3JJK7Ov2p5djJWx7uotOmvs9\/g==}",
                                    "sshKeyfile": "",
                                    "sshPassphrase": "pbe{62fYTYZcIEgSUNViCU2gdp8Sa5OUKBMD}",
                                    "sshTrust": "true",
                                    "sshKnownhosts": "",
                                    "sshVerbose": "false",
                                    "sshSftp": "false",
                                    "sshPreserveLastModified": "false",
                                    "remoteSrcFile": "${p:SBM_Depot}\/${p:SBM_Projet}\/${p:SBM_BaselineId}\/log\/${p:SBM_Nom_Log}.zip",
                                    "localDestFile": "${p:component\/Cst_SBM_LogDir}\\\\${p:SBM_Nom_Log}.zip"
                                },
                                "type": "plugin",
                                "name": "Transfert Logs",
                                "children": []
                            }
                        ]
                    }
                },
                {
                    "name": "SYB_LOGS",
                    "description": "",
                    "defaultWorkingDir": "${p:resource\/work.dir}\/${p:component.name}",
                    "takesVersion": false,
                    "status": "",
                    "active": true,
                    "propDefs": [
                        {
                            "name": "SBM_Depot",
                            "label": "SBM_Depot",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Projet",
                            "label": "SBM_Projet",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_BaselineId",
                            "label": "SBM_BaselineId",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Nom_Log",
                            "label": "SBM_Nom_Log",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Server",
                            "label": "SBM_Server",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Login",
                            "label": "SBM_Login",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Password",
                            "label": "SBM_Password",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SybLogFileName",
                            "label": "SybLogFileName",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        }
                    ],
                    "rootActivity": {
                        "edges": [
                            {
                                "to": "Transfert Logs",
                                "type": "ALWAYS",
                                "value": ""
                            },
                            {
                                "to": "cbc388adb1e74e19c3fb646bc720b3",
                                "from": "Transfert Logs",
                                "type": "SUCCESS",
                                "value": ""
                            }
                        ],
                        "offsets": [
                            {
                                "name": "cbc388adb1e74e19c3fb646bc720b3",
                                "x": 0,
                                "y": 420
                            },
                            {
                                "name": "Transfert Logs",
                                "x": -265,
                                "y": 180
                            }
                        ],
                        "sizes": [
                            {
                                "name": "cbc388adb1e74e19c3fb646bc720b3",
                                "width": 80,
                                "height": 50
                            },
                            {
                                "name": "Transfert Logs",
                                "width": 310,
                                "height": 60
                            }
                        ],
                        "type": "graph",
                        "name": "c9b94cde-cfbc-47ad-bfcc-8bc813398dbc",
                        "children": [
                            {
                                "type": "finish",
                                "name": "cbc388adb1e74e19c3fb646bc720b3",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": false,
                                "showHidden": false,
                                "impersonationUseSudo": false,
                                "impersonationUseSsh": false,
                                "commandName": "SCP-GetOneFileFromRemoteDirectory",
                                "pluginName": "SCP",
                                "pluginVersion": 1,
                                "properties": {
                                    "sshHost": "${p:SBM_Server}",
                                    "sshPort": "22",
                                    "sshUser": "${p:SBM_Login}",
                                    "sshPassword": "pbe{dF6mcEJIv172X99tTFGYdEGpWHvLHylJ1Llj42amJnmZvuuMR80T+g==}",
                                    "sshKeyfile": "",
                                    "sshPassphrase": "pbe{wk58cdZxOE+0ak5PQGGtVqNpPo7ZylJu}",
                                    "sshTrust": "true",
                                    "sshKnownhosts": "",
                                    "sshVerbose": "false",
                                    "sshSftp": "false",
                                    "sshPreserveLastModified": "false",
                                    "remoteSrcFile": "${p:SybLogFileName}",
                                    "localDestFile": "${p:component\/Cst_SBM_LogDir}\\\\${p:SBM_Nom_Log}"
                                },
                                "type": "plugin",
                                "name": "Transfert Logs",
                                "children": []
                            }
                        ]
                    }
                },
                {
                    "name": "SYB_LOGS_SQL",
                    "description": "",
                    "defaultWorkingDir": "${p:resource\/work.dir}\/${p:component.name}",
                    "takesVersion": false,
                    "status": "",
                    "active": true,
                    "propDefs": [
                        {
                            "name": "SBM_Depot",
                            "label": "SBM_Depot",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Projet",
                            "label": "SBM_Projet",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_BaselineId",
                            "label": "SBM_BaselineId",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Nom_Log",
                            "label": "SBM_Nom_Log",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Server",
                            "label": "SBM_Server",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Login",
                            "label": "SBM_Login",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Password",
                            "label": "SBM_Password",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SybLogFileName",
                            "label": "SybLogFileName",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        }
                    ],
                    "rootActivity": {
                        "edges": [
                            {
                                "to": "Transfert Logs",
                                "type": "ALWAYS",
                                "value": ""
                            },
                            {
                                "to": "cbc388adb1e74e19c3fb646bc720b3",
                                "from": "Transfert Logs",
                                "type": "SUCCESS",
                                "value": ""
                            }
                        ],
                        "offsets": [
                            {
                                "name": "Transfert Logs",
                                "x": -265,
                                "y": 180
                            },
                            {
                                "name": "cbc388adb1e74e19c3fb646bc720b3",
                                "x": 0,
                                "y": 420
                            }
                        ],
                        "sizes": [
                            {
                                "name": "cbc388adb1e74e19c3fb646bc720b3",
                                "width": 80,
                                "height": 50
                            },
                            {
                                "name": "Transfert Logs",
                                "width": 310,
                                "height": 60
                            }
                        ],
                        "type": "graph",
                        "name": "3ced2c08-16d0-4d41-b762-4f7ee1e93585",
                        "children": [
                            {
                                "type": "finish",
                                "name": "cbc388adb1e74e19c3fb646bc720b3",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": false,
                                "showHidden": false,
                                "impersonationUseSudo": false,
                                "impersonationUseSsh": false,
                                "commandName": "SCP-GetOneFileFromRemoteDirectory",
                                "pluginName": "SCP",
                                "pluginVersion": 1,
                                "properties": {
                                    "sshHost": "${p:SBM_Server}",
                                    "sshPort": "22",
                                    "sshUser": "${p:SBM_Login}",
                                    "sshPassword": "pbe{JU6JaDVgkFdMU8B1vl8FXindpgFTNCbrvEE5wV1yLa1rG6HopbRoFA==}",
                                    "sshKeyfile": "",
                                    "sshPassphrase": "pbe{4GcneDBbFm4oeHFNulvpbE69V+K7tRAG}",
                                    "sshTrust": "true",
                                    "sshKnownhosts": "",
                                    "sshVerbose": "false",
                                    "sshSftp": "false",
                                    "sshPreserveLastModified": "false",
                                    "remoteSrcFile": "${p:SybLogFileName}",
                                    "localDestFile": "${p:component\/Cst_SBM_LogDir}\\\\${p:SBM_Nom_Log}.zip"
                                },
                                "type": "plugin",
                                "name": "Transfert Logs",
                                "children": []
                            }
                        ]
                    }
                },
                {
                    "name": "WSTOOLS_LOGS",
                    "description": "",
                    "defaultWorkingDir": "${p:resource\/work.dir}\/${p:component.name}",
                    "takesVersion": false,
                    "status": "",
                    "active": true,
                    "propDefs": [
                        {
                            "name": "SBM_BATCH_RemoteServer",
                            "label": "SBM_BATCH_RemoteServer",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_BATCH_Login",
                            "label": "SBM_BATCH_Login",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_BATCH_Password",
                            "label": "SBM_BATCH_Password",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Projet",
                            "label": "SBM_Projet",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        },
                        {
                            "name": "SBM_Nom_Log",
                            "label": "SBM_Nom_Log",
                            "type": "TEXT",
                            "required": true,
                            "description": ""
                        }
                    ],
                    "rootActivity": {
                        "edges": [
                            {
                                "to": "ef05e3d27b0b003bcb10aac3083df5",
                                "from": "TransfertLog",
                                "type": "SUCCESS",
                                "value": ""
                            },
                            {
                                "to": "TransfertLog",
                                "type": "ALWAYS",
                                "value": ""
                            }
                        ],
                        "offsets": [
                            {
                                "name": "TransfertLog",
                                "x": -22,
                                "y": 192
                            },
                            {
                                "name": "ef05e3d27b0b003bcb10aac3083df5",
                                "x": 0,
                                "y": 420
                            }
                        ],
                        "sizes": [
                            {
                                "name": "ef05e3d27b0b003bcb10aac3083df5",
                                "width": 80,
                                "height": 50
                            },
                            {
                                "name": "TransfertLog",
                                "width": 310,
                                "height": 60
                            }
                        ],
                        "type": "graph",
                        "name": "edd5fc4b-eb64-4dc3-8416-16e11f1fadeb",
                        "children": [
                            {
                                "type": "finish",
                                "name": "ef05e3d27b0b003bcb10aac3083df5",
                                "children": []
                            },
                            {
                                "allowFailure": false,
                                "useImpersonation": false,
                                "showHidden": false,
                                "impersonationUseSudo": false,
                                "impersonationUseSsh": false,
                                "commandName": "SCP-GetOneFileFromRemoteDirectory",
                                "pluginName": "SCP",
                                "pluginVersion": 1,
                                "properties": {
                                    "sshHost": "${p:SBM_BATCH_RemoteServer}",
                                    "sshPort": "22",
                                    "sshUser": "${p:SBM_BATCH_Login}",
                                    "sshPassword": "pbe{kWBPZnVdY1hsZXtgHln5S9glhSJMHZVKSM5u1mKdJXbWJZVTKSAzUw==}",
                                    "sshKeyfile": "",
                                    "sshPassphrase": "pbe{OnbId+xkcFIZSlxOcnP8ZQ9l26eQlgQI}",
                                    "sshTrust": "true",
                                    "sshKnownhosts": "",
                                    "sshVerbose": "true",
                                    "sshSftp": "false",
                                    "sshPreserveLastModified": "false",
                                    "remoteSrcFile": "${p:SBM_BATCH_BatchRoot}\/${p:SBM_Projet}\/log\/${p:SBM_Nom_Log}",
                                    "localDestFile": "${p:component\/Cst_SBM_LogDir}\\\\${p:SBM_Nom_Log}"
                                },
                                "type": "plugin",
                                "name": "TransfertLog",
                                "children": []
                            }
                        ]
                    }
                }
            ],
            "taskDefs": [],
            "configTemplates": []
        }
    ],
    "environments": [
        {
            "name": "EAIV8-REC",
            "color": "#da70d6",
            "requireApprovals": false,
            "cleanupDaysToKeep": 0,
            "cleanupCountToKeep": 0,
            "order": 1,
            "active": true,
            "propSheet": {"properties": []},
            "componentEnvironmentMappings": [
                {
                    "componentName": "EAIV8",
                    "resource": "lr2me644"
                },
                {
                    "componentName": "SBM_LOGS",
                    "resource": "dsi-w2358appv0"
                }
            ],
            "componentPropSheets": [
                {
                    "properties": [
                        {
                            "name": "Cst_DIM_SASDepot",
                            "value": "\/products\/serena\/sas",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHHost",
                            "value": "lr2te614.groupe.generali.fr",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHKnownHosts",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHPassPhrase",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHPassword",
                            "value": "dmsys",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHPort",
                            "value": "22",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHPrivateKey",
                            "value": "~\/.ssh\/id_rsa",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHTrust",
                            "value": "true",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHUser",
                            "value": "dmsys",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAIV8_ConfigFile",
                            "value": "config_deploy.conf",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAIV8_Root_Directory",
                            "value": "\/app\/webmethods\/v8\/is",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAI_BuildExtensionName",
                            "value": "_ExportedBuild_myBuild",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAI_DC",
                            "value": "myDeployment",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAI_Deployer_Authentifcation",
                            "value": "BASIC",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAI_Deployer_Domaine",
                            "value": "groupe.generali.fr",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAI_Deployer_Realm",
                            "value": "webMethods",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAI_ListAvailableDeploySetRegexp",
                            "value": "DS_IS_AER|DS_IS_F09|DS_PM_F02|DS_IS_F02|DS_PM_F01|DS_IS_F01",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAI_Map",
                            "value": "myDeploymentMap",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAI_ParameterFile",
                            "value": "Parameters.xml",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAI_PathFilePollingListener",
                            "value": "\/APP\/DATA\/DEV\/",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAI_TempBaseDir",
                            "value": "\/tmp\/serena",
                            "description": "",
                            "secure": false
                        }
                    ],
                    "componentName": "EAIV8"
                },
                {
                    "properties": [
                        {
                            "name": "Cst_DIM_SSHHost",
                            "value": "lr2te614.groupe.generali.fr",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHPassPhrase",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHPassword",
                            "value": "dmsys",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHPort",
                            "value": "22",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHPrivateKey",
                            "value": "~\/.ssh\/id_rsa",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHTrust",
                            "value": "true",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHUser",
                            "value": "dmsys",
                            "description": "",
                            "secure": false
                        }
                    ],
                    "componentName": "SBM_LOGS"
                }
            ]
        },
        {
            "name": "EAIV8-PPROD",
            "color": "#9932cc",
            "requireApprovals": false,
            "cleanupDaysToKeep": 0,
            "cleanupCountToKeep": 0,
            "order": 2,
            "active": true,
            "propSheet": {"properties": []},
            "componentEnvironmentMappings": [
                {
                    "componentName": "EAIV8",
                    "resource": "lb2pp646"
                },
                {
                    "componentName": "SBM_LOGS",
                    "resource": "dsi-w2358appv0"
                }
            ],
            "componentPropSheets": [
                {
                    "properties": [
                        {
                            "name": "Cst_DIM_SASDepot",
                            "value": "\/products\/serena\/sas",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHHost",
                            "value": "lr2te614.groupe.generali.fr",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHKnownHosts",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHPassPhrase",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHPassword",
                            "value": "dmsys",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHPort",
                            "value": "22",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHPrivateKey",
                            "value": "~\/.ssh\/id_rsa",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHTrust",
                            "value": "true",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHUser",
                            "value": "dmsys",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAIV8_ConfigFile",
                            "value": "config_deploy.conf",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAIV8_Root_Directory",
                            "value": "\/app\/webmethods\/v8\/is",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAI_BuildExtensionName",
                            "value": "_ExportedBuild_myBuild",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAI_DC",
                            "value": "myDeployment",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAI_Deployer_Authentifcation",
                            "value": "BASIC",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAI_Deployer_Domaine",
                            "value": "groupe.generali.fr",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAI_Deployer_Realm",
                            "value": "webMethods",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAI_ListAvailableDeploySetRegexp",
                            "value": "DS_IS_AER|DS_IS_F09|DS_PM_F02|DS_IS_F02|DS_PM_F01|DS_IS_F01",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAI_Map",
                            "value": "myDeploymentMap",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAI_ParameterFile",
                            "value": "Parameters.xml",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAI_PathFilePollingListener",
                            "value": "\/APP\/DATA\/DEV\/",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAI_TempBaseDir",
                            "value": "\/tmp\/serena",
                            "description": "",
                            "secure": false
                        }
                    ],
                    "componentName": "EAIV8"
                },
                {
                    "properties": [
                        {
                            "name": "Cst_DIM_SSHHost",
                            "value": "lr2te614.groupe.generali.fr",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHPassPhrase",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHPassword",
                            "value": "dmsys",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHPort",
                            "value": "22",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHPrivateKey",
                            "value": "~\/.ssh\/id_rsa",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHTrust",
                            "value": "true",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHUser",
                            "value": "dmsys",
                            "description": "",
                            "secure": false
                        }
                    ],
                    "componentName": "SBM_LOGS"
                }
            ]
        },
        {
            "name": "EAIV8-PROD",
            "color": "#800080",
            "requireApprovals": false,
            "cleanupDaysToKeep": 0,
            "cleanupCountToKeep": 0,
            "order": 3,
            "active": true,
            "propSheet": {"properties": []},
            "componentEnvironmentMappings": [{
                "componentName": "SBM_LOGS",
                "resource": "dsi-w2358appv0"
            }],
            "componentPropSheets": [
                {
                    "properties": [
                        {
                            "name": "Cst_DIM_SASDepot",
                            "value": "\/products\/serena\/sas",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHHost",
                            "value": "lr2te614.groupe.generali.fr",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHKnownHosts",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHPassPhrase",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHPassword",
                            "value": "dmsys",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHPort",
                            "value": "22",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHPrivateKey",
                            "value": "~\/.ssh\/id_rsa",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHTrust",
                            "value": "true",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHUser",
                            "value": "dmsys",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAIV8_ConfigFile",
                            "value": "config_deploy.conf",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAIV8_Root_Directory",
                            "value": "\/app\/webmethods\/v8\/is",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAI_BuildExtensionName",
                            "value": "_ExportedBuild_myBuild",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAI_DC",
                            "value": "myDeployment",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAI_Deployer_Authentifcation",
                            "value": "BASIC",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAI_Deployer_Domaine",
                            "value": "groupe.generali.fr",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAI_Deployer_Realm",
                            "value": "webMethods",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAI_ListAvailableDeploySetRegexp",
                            "value": "DS_IS_AER|DS_IS_F09|DS_PM_F02|DS_IS_F02|DS_PM_F01|DS_IS_F01",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAI_Map",
                            "value": "myDeploymentMap",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAI_ParameterFile",
                            "value": "Parameters.xml",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAI_PathFilePollingListener",
                            "value": "\/APP\/DATA\/DEV\/",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_EAI_TempBaseDir",
                            "value": "\/tmp\/serena",
                            "description": "",
                            "secure": false
                        }
                    ],
                    "componentName": "EAIV8"
                },
                {
                    "properties": [
                        {
                            "name": "Cst_DIM_SSHHost",
                            "value": "lr2te614.groupe.generali.fr",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHPassPhrase",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHPassword",
                            "value": "dmsys",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHPort",
                            "value": "22",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHPrivateKey",
                            "value": "~\/.ssh\/id_rsa",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHTrust",
                            "value": "true",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "Cst_DIM_SSHUser",
                            "value": "dmsys",
                            "description": "",
                            "secure": false
                        }
                    ],
                    "componentName": "SBM_LOGS"
                }
            ]
        }
    ],
    "processes": [
        {
            "name": "DEPLOY",
            "description": "",
            "inventoryManagementType": "AUTOMATIC",
            "offlineAgentHandling": "FAIL_BUT_CONTINUE",
            "rootActivity": {
                "edges": [
                    {
                        "to": "358f385462bc08907b6066e67e4c6c",
                        "from": "4461a197eebcc87732eac4c866f558",
                        "type": "SUCCESS",
                        "value": ""
                    },
                    {
                        "to": "4461a197eebcc87732eac4c866f558",
                        "type": "ALWAYS",
                        "value": ""
                    }
                ],
                "offsets": [
                    {
                        "name": "4461a197eebcc87732eac4c866f558",
                        "x": -0.5,
                        "y": 174
                    },
                    {
                        "name": "358f385462bc08907b6066e67e4c6c",
                        "x": 0,
                        "y": 420
                    }
                ],
                "sizes": [],
                "type": "graph",
                "name": "fd908a70-21be-4c12-99af-b7615996ecf9",
                "children": [
                    {
                        "type": "finish",
                        "name": "358f385462bc08907b6066e67e4c6c",
                        "children": []
                    },
                    {
                        "componentName": "EAIV8",
                        "properties": [
                            {
                                "name": "runOnlyOnFirst",
                                "value": "false"
                            },
                            {
                                "name": "failFast",
                                "value": "false"
                            },
                            {
                                "name": "maxIteration",
                                "value": "-1"
                            }
                        ],
                        "type": "componentEnvironmentIterator",
                        "name": "4461a197eebcc87732eac4c866f558",
                        "children": [{
                            "componentName": "EAIV8",
                            "componentProcessName": "DEPLOY",
                            "allowFailure": false,
                            "properties": {
                                "SBM_Login": "${p:SBM_Login}",
                                "SBM_BaselineId": "${p:SBM_BaselineId}",
                                "SBM_Nom_Log": "${p:SBM_Nom_Log}",
                                "SBM_EAI_IS": "${p:SBM_EAI_IS}",
                                "SBM_Password": "${p:SBM_Password}"
                            },
                            "type": "componentProcess",
                            "name": "EAIV8_Deploy",
                            "children": []
                        }]
                    }
                ]
            },
            "propDefs": [
                {
                    "name": "SBM_Nom_Log",
                    "label": "SBM_Nom_Log",
                    "type": "TEXT",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "SBM_BaselineId",
                    "label": "SBM_BaselineId",
                    "type": "TEXT",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "SBM_EAI_IS",
                    "label": "SBM_EAI_IS",
                    "type": "TEXT",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "SBM_Login",
                    "label": "SBM_Login",
                    "type": "TEXT",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "SBM_Password",
                    "label": "SBM_Password",
                    "type": "TEXT",
                    "required": true,
                    "description": ""
                }
            ]
        },
        {
            "name": "PREP_DEPLOY",
            "description": "",
            "inventoryManagementType": "AUTOMATIC",
            "offlineAgentHandling": "FAIL_BUT_CONTINUE",
            "rootActivity": {
                "edges": [
                    {
                        "to": "525f1b0927b78c97ada633cd2cd4e3",
                        "type": "ALWAYS",
                        "value": ""
                    },
                    {
                        "to": "a32b359d1ac381743e168cd492db3a",
                        "from": "525f1b0927b78c97ada633cd2cd4e3",
                        "type": "SUCCESS",
                        "value": ""
                    }
                ],
                "offsets": [
                    {
                        "name": "525f1b0927b78c97ada633cd2cd4e3",
                        "x": 25.5,
                        "y": 203
                    },
                    {
                        "name": "a32b359d1ac381743e168cd492db3a",
                        "x": 0,
                        "y": 420
                    }
                ],
                "sizes": [],
                "type": "graph",
                "name": "8e7651d8-a944-4f28-9827-bb6864dafea5",
                "children": [
                    {
                        "type": "finish",
                        "name": "a32b359d1ac381743e168cd492db3a",
                        "children": []
                    },
                    {
                        "componentName": "EAIV8",
                        "properties": [
                            {
                                "name": "failFast",
                                "value": "false"
                            },
                            {
                                "name": "runOnlyOnFirst",
                                "value": "false"
                            },
                            {
                                "name": "maxIteration",
                                "value": "-1"
                            }
                        ],
                        "type": "componentEnvironmentIterator",
                        "name": "525f1b0927b78c97ada633cd2cd4e3",
                        "children": [{
                            "componentName": "EAIV8",
                            "componentProcessName": "PREP_DEPLOY",
                            "allowFailure": false,
                            "properties": {
                                "SBM_Substituable": "${p:SBM_Substituable}",
                                "SBM_Environnement": "${p:SBM_Environnement}",
                                "SBM_Login": "${p:SBM_Login}",
                                "SBM_EAI_Deployer_Login": "${p:SBM_EAI_Deployer_Login}",
                                "SBM_EAI_Deployer_Password": "${p:SBM_EAI_Deployer_Password}",
                                "SBM_BaselineId": "${p:SBM_BaselineId}",
                                "SBM_Folder": "${p:SBM_Folder}",
                                "SBM_Nom_Log": "${p:SBM_Nom_Log}",
                                "SBM_EAI_IS": "${p:SBM_EAI_IS}",
                                "SBM_Password": "${p:SBM_Password}",
                                "SBM_IS_Deployer": "${p:SBM_IS_Deployer}",
                                "SBM_Package": "${p:SBM_Package}"
                            },
                            "type": "componentProcess",
                            "name": "EAIV8_PREP_Deploy",
                            "children": []
                        }]
                    }
                ]
            },
            "propDefs": [
                {
                    "name": "SBM_Nom_Log",
                    "label": "SBM_Nom_Log",
                    "type": "TEXT",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "SBM_BaselineId",
                    "label": "SBM_BaselineId",
                    "type": "TEXT",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "SBM_Folder",
                    "label": "SBM_Folder",
                    "type": "TEXT",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "SBM_Package",
                    "label": "SBM_Package",
                    "type": "TEXT",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "SBM_Substituable",
                    "label": "SBM_Substituable",
                    "type": "TEXT",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "SBM_Environnement",
                    "label": "SBM_Environnement",
                    "type": "TEXT",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "SBM_EAI_IS",
                    "label": "SBM_EAI_IS",
                    "type": "TEXT",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "SBM_EAI_Deployer_Login",
                    "label": "SBM_EAI_Deployer_Login",
                    "type": "TEXT",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "SBM_EAI_Deployer_Password",
                    "label": "SBM_EAI_Deployer_Password",
                    "type": "TEXT",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "SBM_IS_Deployer",
                    "label": "SBM_IS_Deployer",
                    "type": "TEXT",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "SBM_Login",
                    "label": "SBM_Login",
                    "type": "TEXT",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "SBM_Password",
                    "label": "SBM_Password",
                    "type": "TEXT",
                    "required": true,
                    "description": ""
                }
            ]
        },
        {
            "name": "DEPLOY_BACKUP",
            "description": "",
            "inventoryManagementType": "AUTOMATIC",
            "offlineAgentHandling": "FAIL_BUT_CONTINUE",
            "rootActivity": {
                "edges": [
                    {
                        "to": "9f4962c4dad36891581950c6fa0752",
                        "from": "5c8fb4b9db3d31570ae9f797689e18",
                        "type": "SUCCESS",
                        "value": ""
                    },
                    {
                        "to": "5c8fb4b9db3d31570ae9f797689e18",
                        "type": "ALWAYS",
                        "value": ""
                    }
                ],
                "offsets": [
                    {
                        "name": "9f4962c4dad36891581950c6fa0752",
                        "x": -5.5,
                        "y": 410
                    },
                    {
                        "name": "5c8fb4b9db3d31570ae9f797689e18",
                        "x": 27,
                        "y": 182
                    }
                ],
                "sizes": [],
                "type": "graph",
                "name": "3cfdcbb6-6ce5-498d-92f1-553fa3375312",
                "children": [
                    {
                        "type": "finish",
                        "name": "9f4962c4dad36891581950c6fa0752",
                        "children": []
                    },
                    {
                        "componentName": "EAIV8",
                        "properties": [
                            {
                                "name": "runOnlyOnFirst",
                                "value": "false"
                            },
                            {
                                "name": "failFast",
                                "value": "false"
                            },
                            {
                                "name": "maxIteration",
                                "value": "-1"
                            }
                        ],
                        "type": "componentEnvironmentIterator",
                        "name": "5c8fb4b9db3d31570ae9f797689e18",
                        "children": [{
                            "componentName": "EAIV8",
                            "componentProcessName": "DEPLOY_BACKUP",
                            "allowFailure": false,
                            "properties": {
                                "SBM_Login": "${p:SBM_Login}",
                                "SBM_BaselineId": "${p:SBM_BaselineId}",
                                "SBM_Nom_Log": "${p:SBM_Nom_Log}",
                                "SBM_EAI_IS": "${p:SBM_EAI_IS}",
                                "SBM_Password": "${p:SBM_Password}"
                            },
                            "type": "componentProcess",
                            "name": "EAIV8_Deploy_Backup",
                            "children": []
                        }]
                    }
                ]
            },
            "propDefs": [
                {
                    "name": "SBM_Nom_Log",
                    "label": "SBM_Nom_Log",
                    "type": "TEXT",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "SBM_BaselineId",
                    "label": "SBM_BaselineId",
                    "type": "TEXT",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "SBM_Login",
                    "label": "SBM_Login",
                    "type": "TEXT",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "SBM_EAI_IS",
                    "label": "SBM_EAI_IS",
                    "type": "TEXT",
                    "required": true,
                    "description": ""
                },
                {
                    "name": "SBM_Password",
                    "label": "SBM_Password",
                    "type": "TEXT",
                    "required": true,
                    "description": ""
                }
            ]
        },
        {
            "name": "LOG",
            "description": "",
            "inventoryManagementType": "AUTOMATIC",
            "offlineAgentHandling": "FAIL_BUT_CONTINUE",
            "rootActivity": {
                "edges": [
                    {
                        "to": "8fa8241e90414ea109a8da48f49b25",
                        "type": "ALWAYS",
                        "value": ""
                    },
                    {
                        "to": "38173fe76116c2e5343c71db3fcc39",
                        "from": "8fa8241e90414ea109a8da48f49b25",
                        "type": "SUCCESS",
                        "value": ""
                    }
                ],
                "offsets": [
                    {
                        "name": "8fa8241e90414ea109a8da48f49b25",
                        "x": -1.5,
                        "y": 193
                    },
                    {
                        "name": "38173fe76116c2e5343c71db3fcc39",
                        "x": 0,
                        "y": 420
                    }
                ],
                "sizes": [],
                "type": "graph",
                "name": "617a32d6-a016-4fa2-a6ce-06fb966533c7",
                "children": [
                    {
                        "type": "finish",
                        "name": "38173fe76116c2e5343c71db3fcc39",
                        "children": []
                    },
                    {
                        "componentName": "SBM_LOGS",
                        "properties": [
                            {
                                "name": "failFast",
                                "value": "false"
                            },
                            {
                                "name": "runOnlyOnFirst",
                                "value": "false"
                            },
                            {
                                "name": "maxIteration",
                                "value": "-1"
                            }
                        ],
                        "type": "componentEnvironmentIterator",
                        "name": "8fa8241e90414ea109a8da48f49b25",
                        "children": [{
                            "componentName": "SBM_LOGS",
                            "componentProcessName": "EAIV8_LOGS",
                            "allowFailure": false,
                            "properties": {
                                "SBM_Login": "${p:component\/Cst_Agent_User}",
                                "EAI_TempBaseDir": "\/tmp\/serena",
                                "SBM_Server": "${p:SBM_Server}",
                                "SBM_BaselineId": "${p:SBM_BaselineId}",
                                "SBM_Nom_Log": "${p:SBM_Nom_Log}",
                                "SBM_Password": "${p:component\/Cst_Agent_Pwd}"
                            },
                            "type": "componentProcess",
                            "name": "Log to LogNolio",
                            "children": []
                        }]
                    }
                ]
            },
            "propDefs": []
        }
    ],
    "taskDefs": []
}